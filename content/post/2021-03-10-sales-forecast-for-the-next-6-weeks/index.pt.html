---
title: Sales Forecast for the next 6 weeks
author: Renato Silva
date: '2021-03-10'
slug: []
categories:
  - R
tags:
  - markdown
Description: ''
Tags: []
Categories: []
DisableComments: no

---

<script src="{{< blogdown/postref >}}index.pt_files/header-attrs/header-attrs.js"></script>
<link href="{{< blogdown/postref >}}index.pt_files/pagedtable/css/pagedtable.css" rel="stylesheet" />
<script src="{{< blogdown/postref >}}index.pt_files/pagedtable/js/pagedtable.js"></script>
<script src="{{< blogdown/postref >}}index.pt_files/kePrint/kePrint.js"></script>
<link href="{{< blogdown/postref >}}index.pt_files/lightable/lightable.css" rel="stylesheet" />
<script src="{{< blogdown/postref >}}index.pt_files/htmlwidgets/htmlwidgets.js"></script>
<script src="{{< blogdown/postref >}}index.pt_files/plotly-binding/plotly.js"></script>
<script src="{{< blogdown/postref >}}index.pt_files/typedarray/typedarray.min.js"></script>
<script src="{{< blogdown/postref >}}index.pt_files/jquery/jquery.min.js"></script>
<link href="{{< blogdown/postref >}}index.pt_files/crosstalk/css/crosstalk.css" rel="stylesheet" />
<script src="{{< blogdown/postref >}}index.pt_files/crosstalk/js/crosstalk.min.js"></script>
<link href="{{< blogdown/postref >}}index.pt_files/plotly-htmlwidgets-css/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="{{< blogdown/postref >}}index.pt_files/plotly-main/plotly-latest.min.js"></script>


<div class="figure">
<img src="https://www.implantandomarketing.com/wp-content/uploads/2015/05/3-passos-para-acertar-sua-previsao-de-vendas.jpg" alt="Mindmap Hypotheses" width="100%" />
<p class="caption">
(#fig:2.3. Mindmap Hypotheses)Mindmap Hypotheses
</p>
</div>
<div id="importing-needed-packages" class="section level1">
<h1>Importing Needed packages</h1>
<pre class="r"><code>library(tidyverse)
library(lubridate)
library(e1071) 
library(gridExtra)
library(janitor)
library(data.table)
library(funModeling)
library(kableExtra)
library(htmltools)
library(ISOweek)
library(vcd)
library(plotly)
library(timetk)
library(ggpubr)
library(Metrics)
library(tidymodels)


theme_set(theme_minimal()) </code></pre>
<div id="helper-functions" class="section level2">
<h2>Helper Functions</h2>
<pre class="r"><code>catcor &lt;- function(x, type=c(&quot;cramer&quot;, &quot;phi&quot;, &quot;contingency&quot;)) {
    require(vcd)
    nc &lt;- ncol(x)
    v &lt;- expand.grid(1:nc, 1:nc)
    type &lt;- match.arg(type)
    res &lt;- matrix(mapply(function(i1, i2) assocstats(table(x[,i1],
        x[,i2]))[[type]], v[,1], v[,2]), nc, nc)
    rownames(res) &lt;- colnames(res) &lt;- colnames(x)
    res
}

minmax_scaler &lt;- function(x) {
  
    
   return( ( x - min( x ) )  / ( max(x) - min(x) ) ) 
}


robust_scaler &lt;- function(x){
  
  return( ( x - quantile( x , 0.5) )  / ( quantile(x ,0.75) - quantile(x, 0.25) ) )
  
}


ml_error &lt;-  function(model_name = &quot;Linear Regression Model&quot;,model_predictions){
  MAE &lt;- model_predictions %&gt;%
    yardstick::mae( actual,predictions)

  MAPE &lt;- model_predictions %&gt;%
    yardstick::mape( actual,predictions)

  RMSE &lt;- model_predictions %&gt;%
    yardstick::rmse( actual, predictions)

  data.frame(Model_Name = model_name, MAE= round(MAE$.estimate,3), MAPE = round(MAPE$.estimate,3), RMSE = round(RMSE$.estimate, 3))  
  
} 


# TimeSeries cross validation function
cross_validation &lt;- function(data_training, kfold , Model_name, model){
  
mae_list  &lt;- c()
mape_list &lt;- c()
rmse_list &lt;- c() 
  
for (k in seq(kfold ,1)){
  print(paste(&quot;kfolds number&quot;, k))
    
  validation_start_date &lt;- max(data_train$date) - as.difftime(k*6*7, units = &quot;days&quot;)
    
  validation_end_date &lt;- max(data_train$date) - as.difftime((k-1)*6*7, units = &quot;days&quot;)
    
  data_training &lt;- data_train %&gt;% 
    filter(date &lt; validation_start_date)
    
  data_validation &lt;- data_train %&gt;% 
    filter(date &gt;= validation_start_date &amp; date &lt;= validation_end_date)
    
  lm_fit_cv &lt;- model %&gt;% fit(sales ~ . , data = data_training)
    
  lm_pred_cv &lt;- lm_fit_cv %&gt;% predict(data_validation) %&gt;% 
    bind_cols(data_validation$sales) %&gt;% 
    rename(predictions = &quot;.pred&quot;, actual = &quot;...2&quot;)
    
  lm_result_cv &lt;- ml_error(&quot;Linear Regression Model&quot;,lm_pred_cv) 
    
  
    # store performance of each kfold iteration
  mae_list [k] &lt;- unlist( lm_result_cv[&#39;MAE&#39;]   , use.names=FALSE) 
  mape_list[k] &lt;- unlist( lm_result_cv[&#39;MAPE&#39;]  , use.names=FALSE )
  rmse_list[k] &lt;- unlist( lm_result_cv[&#39;RMSE&#39;]  , use.names=FALSE)
    
  
    
  }
  
 return( tibble( Model_name = Model_name,
                 MAE = paste( round(mean(mae_list),2),&quot; +/- &quot;,   round(sd(mae_list),  2)),
                 MAPE = paste( round(mean(mape_list),2),&quot; +/- &quot;, round(sd(mape_list), 2)),
                 RMSE = paste( round(mean(rmse_list),2),&quot; +/- &quot;, round(sd(rmse_list), 2))) )  
  
}</code></pre>
</div>
<div id="reading-the-data" class="section level2">
<h2>Reading the data</h2>
<pre class="r"><code># Dataset of Sales
df_sales_raw &lt;- data.table::fread(&quot;/home/renato/repos/Rossmann/inst/Data/train.csv&quot;, stringsAsFactors = T,  na.strings = c(&quot;&quot;,&quot;&#39;&quot;,&quot;NA&quot;))

# Dataset of Stores
df_store_raw &lt;- data.table::fread(&quot;/home/renato/repos/Rossmann/inst/Data/store.csv&quot;, stringsAsFactors = T,  na.strings=c(&quot;&quot;,&quot;&#39;&quot;,&quot;NA&quot;))

# merge
df_raw &lt;- merge(df_sales_raw, df_store_raw, by= &quot;Store&quot;)</code></pre>
</div>
</div>
<div id="descricption-of-data" class="section level1">
<h1>Descricption of Data</h1>
<div id="rename-columns" class="section level2">
<h2>Rename Columns</h2>
<pre class="r"><code>#making a copy of the dataset df_raw
df1 &lt;- df_raw %&gt;% 
  clean_names()

rmarkdown::paged_table(head(df1))</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["store"],"name":[1],"type":["int"],"align":["right"]},{"label":["day_of_week"],"name":[2],"type":["int"],"align":["right"]},{"label":["date"],"name":[3],"type":["date"],"align":["right"]},{"label":["sales"],"name":[4],"type":["int"],"align":["right"]},{"label":["customers"],"name":[5],"type":["int"],"align":["right"]},{"label":["open"],"name":[6],"type":["int"],"align":["right"]},{"label":["promo"],"name":[7],"type":["int"],"align":["right"]},{"label":["state_holiday"],"name":[8],"type":["fct"],"align":["left"]},{"label":["school_holiday"],"name":[9],"type":["int"],"align":["right"]},{"label":["store_type"],"name":[10],"type":["fct"],"align":["left"]},{"label":["assortment"],"name":[11],"type":["fct"],"align":["left"]},{"label":["competition_distance"],"name":[12],"type":["int"],"align":["right"]},{"label":["competition_open_since_month"],"name":[13],"type":["int"],"align":["right"]},{"label":["competition_open_since_year"],"name":[14],"type":["int"],"align":["right"]},{"label":["promo2"],"name":[15],"type":["int"],"align":["right"]},{"label":["promo2since_week"],"name":[16],"type":["int"],"align":["right"]},{"label":["promo2since_year"],"name":[17],"type":["int"],"align":["right"]},{"label":["promo_interval"],"name":[18],"type":["fct"],"align":["left"]}],"data":[{"1":"1","2":"5","3":"2015-07-31","4":"5263","5":"555","6":"1","7":"1","8":"0","9":"1","10":"c","11":"a","12":"1270","13":"9","14":"2008","15":"0","16":"NA","17":"NA","18":""},{"1":"1","2":"4","3":"2015-07-30","4":"5020","5":"546","6":"1","7":"1","8":"0","9":"1","10":"c","11":"a","12":"1270","13":"9","14":"2008","15":"0","16":"NA","17":"NA","18":""},{"1":"1","2":"3","3":"2015-07-29","4":"4782","5":"523","6":"1","7":"1","8":"0","9":"1","10":"c","11":"a","12":"1270","13":"9","14":"2008","15":"0","16":"NA","17":"NA","18":""},{"1":"1","2":"2","3":"2015-07-28","4":"5011","5":"560","6":"1","7":"1","8":"0","9":"1","10":"c","11":"a","12":"1270","13":"9","14":"2008","15":"0","16":"NA","17":"NA","18":""},{"1":"1","2":"1","3":"2015-07-27","4":"6102","5":"612","6":"1","7":"1","8":"0","9":"1","10":"c","11":"a","12":"1270","13":"9","14":"2008","15":"0","16":"NA","17":"NA","18":""},{"1":"1","2":"7","3":"2015-07-26","4":"0","5":"0","6":"0","7":"0","8":"0","9":"0","10":"c","11":"a","12":"1270","13":"9","14":"2008","15":"0","16":"NA","17":"NA","18":""}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<div id="data-dimensions" class="section level2">
<h2>Data Dimensions</h2>
<pre class="r"><code>print(paste(&quot;Number of Rows: &quot; ,nrow(df_raw)))</code></pre>
<pre><code>[1] &quot;Number of Rows:  1017209&quot;</code></pre>
<pre class="r"><code>print(paste(&quot;Number of Cols: &quot; ,ncol(df_raw)))</code></pre>
<pre><code>[1] &quot;Number of Cols:  18&quot;</code></pre>
</div>
<div id="data-types" class="section level2">
<h2>Data Types</h2>
<pre class="r"><code># converting the &quot;date&quot; feature to datetime
df1$date &lt;- ymd(df1$date)

glimpse(df1)</code></pre>
<pre><code>Rows: 1,017,209
Columns: 18
$ store                        &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1…
$ day_of_week                  &lt;int&gt; 5, 4, 3, 2, 1, 7, 6, 5, 4, 3, 2, 1, 7, 6…
$ date                         &lt;date&gt; 2015-07-31, 2015-07-30, 2015-07-29, 201…
$ sales                        &lt;int&gt; 5263, 5020, 4782, 5011, 6102, 0, 4364, 3…
$ customers                    &lt;int&gt; 555, 546, 523, 560, 612, 0, 500, 459, 50…
$ open                         &lt;int&gt; 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 0, 1…
$ promo                        &lt;int&gt; 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0…
$ state_holiday                &lt;fct&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…
$ school_holiday               &lt;int&gt; 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0…
$ store_type                   &lt;fct&gt; c, c, c, c, c, c, c, c, c, c, c, c, c, c…
$ assortment                   &lt;fct&gt; a, a, a, a, a, a, a, a, a, a, a, a, a, a…
$ competition_distance         &lt;int&gt; 1270, 1270, 1270, 1270, 1270, 1270, 1270…
$ competition_open_since_month &lt;int&gt; 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9…
$ competition_open_since_year  &lt;int&gt; 2008, 2008, 2008, 2008, 2008, 2008, 2008…
$ promo2                       &lt;int&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…
$ promo2since_week             &lt;int&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ promo2since_year             &lt;int&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ promo_interval               &lt;fct&gt; , , , , , , , , , , , , , , , , , , , , …</code></pre>
</div>
<div id="checking-na" class="section level2">
<h2>Checking NA</h2>
<pre class="r"><code>colSums(is.na(df1))</code></pre>
<pre><code>                       store                  day_of_week 
                           0                            0 
                        date                        sales 
                           0                            0 
                   customers                         open 
                           0                            0 
                       promo                state_holiday 
                           0                            0 
              school_holiday                   store_type 
                           0                            0 
                  assortment         competition_distance 
                           0                         2642 
competition_open_since_month  competition_open_since_year 
                      323348                       323348 
                      promo2             promo2since_week 
                           0                       508031 
            promo2since_year               promo_interval 
                      508031                            0 </code></pre>
</div>
<div id="fillout-na" class="section level2">
<h2>Fillout NA</h2>
<pre class="r"><code># removing missing values
df1 &lt;- df1 %&gt;% 
  mutate(
    
    # replace the missing values with the value of 200000
    competition_distance = ifelse(is.na(competition_distance), 200000, competition_distance),
    
    # replace the missing values with the month in the date column     
    competition_open_since_month = ifelse(is.na(competition_open_since_month), month(date), competition_open_since_month),
    
    # replace the missing values with the year in the date column      
    competition_open_since_year = ifelse(is.na(competition_open_since_year), year(date), competition_open_since_year),
    
    # replace the missing values with the week in the date column      
    promo2since_week = ifelse(is.na(promo2since_week ), week(date), promo2since_week ),
    
    # replace the missing values with the year in the date column      
    promo2since_year = ifelse(is.na(promo2since_year), year(date), promo2since_year),
         
    month_map = month(date),
         
    month_map = month.abb[month_map])


# removing the blanks 
df1$promo_interval &lt;- str_squish(df1$promo_interval)

# replacing missing values with 0
df1$promo_interval[df1$promo_interval==&quot;&quot;] = &quot;0&quot;

# creating a column with the months that the promotion is active with value 1 and not active with value 0
df1 &lt;- df1 %&gt;% 
  mutate(is_promo = ifelse(promo_interval == &quot;0&quot;,0,ifelse(str_detect(promo_interval, month_map),1,0)))

# viewing a random sample of the data

kable(t(df1[sample(nrow(df1), 5), ])) %&gt;% 
  kable_styling(full_width = F, bootstrap_options = c(&quot;striped&quot;, &quot;hover&quot;, &quot;condesend&quot;, &quot;responsive&quot;),html_font = &quot;Cambria&quot;)</code></pre>
<table class="table table-striped table-hover table-responsive" style="font-family: Cambria; width: auto !important; margin-left: auto; margin-right: auto;">
<tbody>
<tr>
<td style="text-align:left;">
store
</td>
<td style="text-align:left;">
794
</td>
<td style="text-align:left;">
207
</td>
<td style="text-align:left;">
814
</td>
<td style="text-align:left;">
913
</td>
<td style="text-align:left;">
242
</td>
</tr>
<tr>
<td style="text-align:left;">
day_of_week
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:left;">
5
</td>
<td style="text-align:left;">
6
</td>
<td style="text-align:left;">
2
</td>
<td style="text-align:left;">
5
</td>
</tr>
<tr>
<td style="text-align:left;">
date
</td>
<td style="text-align:left;">
2014-09-15
</td>
<td style="text-align:left;">
2014-06-06
</td>
<td style="text-align:left;">
2013-10-12
</td>
<td style="text-align:left;">
2013-05-07
</td>
<td style="text-align:left;">
2013-05-03
</td>
</tr>
<tr>
<td style="text-align:left;">
sales
</td>
<td style="text-align:left;">
3256
</td>
<td style="text-align:left;">
12753
</td>
<td style="text-align:left;">
5956
</td>
<td style="text-align:left;">
7791
</td>
<td style="text-align:left;">
5338
</td>
</tr>
<tr>
<td style="text-align:left;">
customers
</td>
<td style="text-align:left;">
541
</td>
<td style="text-align:left;">
1381
</td>
<td style="text-align:left;">
528
</td>
<td style="text-align:left;">
1093
</td>
<td style="text-align:left;">
464
</td>
</tr>
<tr>
<td style="text-align:left;">
open
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:left;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
promo
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
state_holiday
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
school_holiday
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
store_type
</td>
<td style="text-align:left;">
c
</td>
<td style="text-align:left;">
a
</td>
<td style="text-align:left;">
d
</td>
<td style="text-align:left;">
a
</td>
<td style="text-align:left;">
d
</td>
</tr>
<tr>
<td style="text-align:left;">
assortment
</td>
<td style="text-align:left;">
c
</td>
<td style="text-align:left;">
a
</td>
<td style="text-align:left;">
c
</td>
<td style="text-align:left;">
a
</td>
<td style="text-align:left;">
a
</td>
</tr>
<tr>
<td style="text-align:left;">
competition_distance
</td>
<td style="text-align:left;">
5090
</td>
<td style="text-align:left;">
6870
</td>
<td style="text-align:left;">
24530
</td>
<td style="text-align:left;">
280
</td>
<td style="text-align:left;">
6880
</td>
</tr>
<tr>
<td style="text-align:left;">
competition_open_since_month
</td>
<td style="text-align:left;">
9
</td>
<td style="text-align:left;">
6
</td>
<td style="text-align:left;">
7
</td>
<td style="text-align:left;">
5
</td>
<td style="text-align:left;">
9
</td>
</tr>
<tr>
<td style="text-align:left;">
competition_open_since_year
</td>
<td style="text-align:left;">
2006
</td>
<td style="text-align:left;">
2014
</td>
<td style="text-align:left;">
2013
</td>
<td style="text-align:left;">
2013
</td>
<td style="text-align:left;">
2001
</td>
</tr>
<tr>
<td style="text-align:left;">
promo2
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
promo2since_week
</td>
<td style="text-align:left;">
37
</td>
<td style="text-align:left;">
23
</td>
<td style="text-align:left;">
41
</td>
<td style="text-align:left;">
19
</td>
<td style="text-align:left;">
14
</td>
</tr>
<tr>
<td style="text-align:left;">
promo2since_year
</td>
<td style="text-align:left;">
2014
</td>
<td style="text-align:left;">
2014
</td>
<td style="text-align:left;">
2013
</td>
<td style="text-align:left;">
2013
</td>
<td style="text-align:left;">
2011
</td>
</tr>
<tr>
<td style="text-align:left;">
promo_interval
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
Jan,Apr,Jul,Oct
</td>
</tr>
<tr>
<td style="text-align:left;">
month_map
</td>
<td style="text-align:left;">
Sep
</td>
<td style="text-align:left;">
Jun
</td>
<td style="text-align:left;">
Oct
</td>
<td style="text-align:left;">
May
</td>
<td style="text-align:left;">
May
</td>
</tr>
<tr>
<td style="text-align:left;">
is_promo
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
0
</td>
</tr>
</tbody>
</table>
</div>
<div id="change-types" class="section level2">
<h2>Change Types</h2>
<pre class="r"><code>df1 &lt;- df1 %&gt;% 
  mutate(competition_distance = as.integer(competition_distance),
         month_map = as.factor(month_map))</code></pre>
</div>
<div id="descriptive-statistics" class="section level2">
<h2>Descriptive Statistics</h2>
<pre class="r"><code># selecting only numeric features
num_attributes &lt;- df1 %&gt;% 
  keep(is.numeric)

# selecting only categorical features
cat_attributes &lt;- df1 %&gt;% 
  keep(is.factor)</code></pre>
<div id="numeric-attributes" class="section level3">
<h3>Numeric Attributes</h3>
<pre class="r"><code># Central Tendency  - mean , median
num_mean &lt;- as.data.frame( t(lapply(num_attributes, mean)))

num_median &lt;- as.data.frame( t(lapply(num_attributes, median)))

# dispersion - std, min, max, range, skew, kurtosis
num_std &lt;- as.data.frame( t(lapply(num_attributes, sd)))

num_min &lt;- as.data.frame( t(lapply(num_attributes, min)))

num_max &lt;- as.data.frame( t(lapply(num_attributes, max)))

num_skew &lt;- as.data.frame( t(lapply(num_attributes, skewness)))

num_kurt &lt;- as.data.frame( t(lapply(num_attributes, kurtosis)))

table_desc &lt;- t(bind_rows(num_min,num_max,num_mean,num_median,num_std,num_skew,num_kurt))

table_desc&lt;- as.data.frame(table_desc)


names(table_desc) &lt;- c(&quot;min&quot;,&quot;max&quot;,&quot;mean&quot;,&quot;median&quot;,&quot;std&quot;,&quot;skew&quot;, &quot;kurtosis&quot;)


kable(table_desc, digits = 4) %&gt;% 
  kable_styling(full_width = F, bootstrap_options = c(&quot;striped&quot;, &quot;hover&quot;, &quot;condesend&quot;, &quot;responsive&quot;),html_font = &quot;Cambria&quot;)</code></pre>
<table class="table table-striped table-hover table-responsive" style="font-family: Cambria; width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:left;">
min
</th>
<th style="text-align:left;">
max
</th>
<th style="text-align:left;">
mean
</th>
<th style="text-align:left;">
median
</th>
<th style="text-align:left;">
std
</th>
<th style="text-align:left;">
skew
</th>
<th style="text-align:left;">
kurtosis
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
store
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:left;">
1115
</td>
<td style="text-align:left;">
558.4297
</td>
<td style="text-align:left;">
558
</td>
<td style="text-align:left;">
321.9087
</td>
<td style="text-align:left;">
-0.0009548772
</td>
<td style="text-align:left;">
-1.200527
</td>
</tr>
<tr>
<td style="text-align:left;">
day_of_week
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:left;">
7
</td>
<td style="text-align:left;">
3.998341
</td>
<td style="text-align:left;">
4
</td>
<td style="text-align:left;">
1.997391
</td>
<td style="text-align:left;">
0.001592818
</td>
<td style="text-align:left;">
-1.246877
</td>
</tr>
<tr>
<td style="text-align:left;">
sales
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
41551
</td>
<td style="text-align:left;">
5773.819
</td>
<td style="text-align:left;">
5744
</td>
<td style="text-align:left;">
3849.926
</td>
<td style="text-align:left;">
0.6414577
</td>
<td style="text-align:left;">
1.778351
</td>
</tr>
<tr>
<td style="text-align:left;">
customers
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
7388
</td>
<td style="text-align:left;">
633.1459
</td>
<td style="text-align:left;">
609
</td>
<td style="text-align:left;">
464.4117
</td>
<td style="text-align:left;">
1.598646
</td>
<td style="text-align:left;">
7.091712
</td>
</tr>
<tr>
<td style="text-align:left;">
open
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:left;">
0.8301067
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:left;">
0.3755392
</td>
<td style="text-align:left;">
-1.758039
</td>
<td style="text-align:left;">
1.090703
</td>
</tr>
<tr>
<td style="text-align:left;">
promo
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:left;">
0.3815145
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
0.4857586
</td>
<td style="text-align:left;">
0.4878364
</td>
<td style="text-align:left;">
-1.762017
</td>
</tr>
<tr>
<td style="text-align:left;">
school_holiday
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:left;">
0.1786467
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
0.3830564
</td>
<td style="text-align:left;">
1.677837
</td>
<td style="text-align:left;">
0.8151368
</td>
</tr>
<tr>
<td style="text-align:left;">
competition_distance
</td>
<td style="text-align:left;">
20
</td>
<td style="text-align:left;">
200000
</td>
<td style="text-align:left;">
5935.443
</td>
<td style="text-align:left;">
2330
</td>
<td style="text-align:left;">
12547.65
</td>
<td style="text-align:left;">
10.24231
</td>
<td style="text-align:left;">
147.7887
</td>
</tr>
<tr>
<td style="text-align:left;">
competition_open_since_month
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:left;">
12
</td>
<td style="text-align:left;">
6.786849
</td>
<td style="text-align:left;">
7
</td>
<td style="text-align:left;">
3.311087
</td>
<td style="text-align:left;">
-0.04207551
</td>
<td style="text-align:left;">
-1.232611
</td>
</tr>
<tr>
<td style="text-align:left;">
competition_open_since_year
</td>
<td style="text-align:left;">
1900
</td>
<td style="text-align:left;">
2015
</td>
<td style="text-align:left;">
2010.325
</td>
<td style="text-align:left;">
2012
</td>
<td style="text-align:left;">
5.515593
</td>
<td style="text-align:left;">
-7.235636
</td>
<td style="text-align:left;">
124.0704
</td>
</tr>
<tr>
<td style="text-align:left;">
promo2
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:left;">
0.5005638
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:left;">
0.4999999
</td>
<td style="text-align:left;">
-0.002255189
</td>
<td style="text-align:left;">
-1.999997
</td>
</tr>
<tr>
<td style="text-align:left;">
promo2since_week
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:left;">
53
</td>
<td style="text-align:left;">
23.69512
</td>
<td style="text-align:left;">
22
</td>
<td style="text-align:left;">
14.353
</td>
<td style="text-align:left;">
0.1829283
</td>
<td style="text-align:left;">
-1.179229
</td>
</tr>
<tr>
<td style="text-align:left;">
promo2since_year
</td>
<td style="text-align:left;">
2009
</td>
<td style="text-align:left;">
2015
</td>
<td style="text-align:left;">
2012.793
</td>
<td style="text-align:left;">
2013
</td>
<td style="text-align:left;">
1.662658
</td>
<td style="text-align:left;">
-0.7844339
</td>
<td style="text-align:left;">
-0.2100855
</td>
</tr>
<tr>
<td style="text-align:left;">
is_promo
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:left;">
0.1718349
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
0.3772371
</td>
<td style="text-align:left;">
1.739833
</td>
<td style="text-align:left;">
1.027021
</td>
</tr>
</tbody>
</table>
<pre class="r"><code>df1 %&gt;% 
  ggplot(aes(sales))+
  geom_histogram(aes(y =..density..),col=&quot;black&quot;, fill=&quot;steelblue&quot;)+
  stat_function(fun = dnorm, args = list(mean = mean(df1$sales), sd = sd(df1$sales)), col=&quot;red&quot;, lwd=1)</code></pre>
<p><img src="{{< blogdown/postref >}}index.pt_files/figure-html/unnamed-chunk-12-1.png" width="200%" height="200%" /></p>
</div>
<div id="categorical-attributes" class="section level3">
<h3>Categorical Attributes</h3>
<pre class="r"><code>apply(cat_attributes, 2, function(x) length(unique(x)))</code></pre>
<pre><code>state_holiday    store_type    assortment     month_map 
            4             4             3            12 </code></pre>
<pre class="r"><code>boxplot_01 &lt;- df1 %&gt;% 
  filter(state_holiday != 0 &amp; sales &gt; 0 ) %&gt;% 
  ggplot(aes(x = state_holiday, y = sales, fill=state_holiday))+
  scale_y_continuous(breaks = seq(0,40000,5000))+
  geom_boxplot()



boxplot_02 &lt;- df1 %&gt;% 
  filter(state_holiday != 0 &amp; sales &gt; 0 ) %&gt;% 
  ggplot(aes(x = store_type, y = sales, fill=store_type))+
  scale_y_continuous(breaks = seq(0,40000,5000))+
  geom_boxplot()

boxplot_03 &lt;- df1 %&gt;% 
  filter(state_holiday != 0 &amp; sales &gt; 0 ) %&gt;% 
  ggplot(aes(x = assortment, y = sales, fill=assortment))+
  scale_y_continuous(breaks = seq(0,40000,5000))+
  geom_boxplot()

grid.arrange(boxplot_01,boxplot_02,boxplot_03,nrow= 2,ncol=2)</code></pre>
<p><img src="{{< blogdown/postref >}}index.pt_files/figure-html/unnamed-chunk-14-1.png" width="1248" /></p>
</div>
</div>
</div>
<div id="feature-engineering" class="section level1">
<h1>Feature Engineering</h1>
<pre class="r"><code>df2 &lt;- df1</code></pre>
<div id="mindmap-hypotheses" class="section level2">
<h2>Mindmap Hypotheses</h2>
<div class="figure">
<img src="images/MindMapsHypothesis.png" alt="Mindmap Hypotheses" width="100%" />
<p class="caption">
(#fig:2.1. Mindmap Hypotheses)Mindmap Hypotheses
</p>
</div>
</div>
<div id="creation-of-hypotheses" class="section level2">
<h2>Creation of Hypotheses</h2>
<p><strong>1.</strong> Lojas com número maior de funcionários deveriam vender mais.<br />
<strong>1.</strong> Stores with more employees should sell more.</p>
<p><strong>2.</strong> Lojas com maior capacidade de estoque deveriam vender mais.<br />
<strong>2.</strong> Stores with greater inventory capacity should sell more.</p>
<p><strong>3.</strong> Lojas com maior porte deveriam vender mais.<br />
<strong>3.</strong> Larger stores should sell more.</p>
<p><strong>4.</strong> Lojas com maior sortimentos deveriam vender mais.<br />
<strong>4.</strong> Stores with larger assortments should sell more.</p>
<p><strong>5.</strong> Lojas com competidores mais próximos deveriam vender menos.<br />
<strong>5.</strong> Stores with closer competitors should sell less.</p>
<p><strong>6.</strong> Lojas com competidores à mais tempo deveriam vendem mais.<br />
<strong>6.</strong> Stores with longer competitors should sell more.</p>
<div id="products-hypotheses" class="section level3">
<h3>2.2.2. Products Hypotheses</h3>
<p><strong>1.</strong> Lojas que investem mais em Marketing deveriam vender mais.<br />
<strong>1.</strong> Stores that invest more in Marketing should sell more.</p>
<p><strong>2.</strong> Lojas com maior exposição de produto deveriam vender mais.<br />
<strong>2.</strong> Stores with greater product exposure should sell more.</p>
<p><strong>3.</strong> Lojas com produtos com preço menor deveriam vender mais.<br />
<strong>3.</strong> Stores with lower priced products should sell more.</p>
<p><strong>4. </strong>Lojas com promoções mais agressivas ( descontos maiores ), deveriam vender mais.<br />
<strong>4.</strong> Stores with more aggressive promotions (bigger discounts), should sell more.</p>
<p><strong>5.</strong> Lojas com promoções ativas por mais tempo deveriam vender mais.<br />
<strong>5.</strong> Stores with active promotions for longer should sell more.</p>
<p><strong>6.</strong> Lojas com mais dias de promoção deveriam vender mais.<br />
<strong>6.</strong> Stores with more promotion days should sell more.</p>
<p><strong>7.</strong> Lojas com mais promoções consecutivas deveriam vender mais.<br />
<strong>7.</strong> Stores with more consecutive promotions should sell more.</p>
</div>
<div id="time-hypotheses" class="section level3">
<h3>2.2.3. Time Hypotheses</h3>
<p><strong>1.</strong> Lojas abertas durante o feriado de Natal deveriam vender mais.<br />
<strong>1.</strong> Stores open during the Christmas holiday should sell more.</p>
<p><strong>2.</strong> Lojas deveriam vender mais ao longo dos anos.<br />
<strong>2.</strong> Stores should sell more over the years.</p>
<p><strong>3.</strong> Lojas deveriam vender mais no segundo semestre do ano.<br />
<strong>3.</strong> Stores should sell more in the second half of the year.</p>
<p><strong>4.</strong> Lojas deveriam vender mais depois do dia 10 de cada mês.<br />
<strong>4.</strong> Stores should sell more after the 10th of each month.</p>
<p><strong>5.</strong> Lojas deveriam vender menos aos finais de semana.<br />
<strong>5.</strong> Stores should sell less on weekends.</p>
<p><strong>6.</strong> Lojas deveriam vender menos durante os feriados escolares.<br />
<strong>6.</strong> Stores should sell less during school holidays.</p>
</div>
</div>
<div id="final-list-of-hypotheses" class="section level2">
<h2>2.3. Final List of Hypotheses</h2>
<p><strong>1.</strong> Lojas com maior sortimentos deveriam vender mais.<br />
<strong>1.</strong> Stores with larger assortments should sell more.</p>
<p><strong>2.</strong> Lojas com competidores mais próximos deveriam vender menos.<br />
<strong>2.</strong> Stores with closer competitors should sell less.</p>
<p><strong>3.</strong> Lojas com competidores à mais tempo deveriam vendem mais.<br />
<strong>3.</strong> Stores with longer competitors should sell more.</p>
<p><strong>4.</strong> Lojas com promoções ativas por mais tempo deveriam vender mais.<br />
<strong>4.</strong> Stores with active promotions for longer should sell more.</p>
<p><strong>5.</strong> Lojas com mais dias de promoção deveriam vender mais.<br />
<strong>5.</strong> Stores with more promotion days should sell more.</p>
<p><strong>6.</strong> Lojas com mais promoções consecutivas deveriam vender mais.<br />
<strong>6.</strong> Stores with more consecutive promotions should sell more.</p>
<p><strong>7.</strong> Lojas abertas durante o feriado de Natal deveriam vender mais.<br />
<strong>7.</strong> Stores open during the Christmas holiday should sell more.</p>
<p><strong>8.</strong> Lojas deveriam vender mais ao longo dos anos.<br />
<strong>8.</strong> Stores should sell more over the years.</p>
<p><strong>9.</strong> Lojas deveriam vender mais no segundo semestre do ano.<br />
<strong>9.</strong> Stores should sell more in the second half of the year.</p>
<p><strong>10.</strong> Lojas deveriam vender mais depois do dia 10 de cada mês.<br />
<strong>10.</strong> Stores should sell more after the 10th of each month.</p>
<p><strong>11.</strong> Lojas deveriam vender menos aos finais de semana.<br />
<strong>11.</strong> Stores should sell less on weekends.</p>
<p><strong>12.</strong> Lojas deveriam vender menos durante os feriados escolares.<br />
<strong>12.</strong> Stores should sell less during school holidays.</p>
</div>
<div id="feature-engineering-1" class="section level2">
<h2>Feature Engineering</h2>
<pre class="r"><code>df2 &lt;- df2 %&gt;% 
  mutate(
    
    # Extracting year
    year = as.integer(year(date)),
    
    # Extracting month
    month = month(date),
    
    # Extracting day
    day = day(date),
    
    #Extracting week of the year
    week_of_year = week(date),
    
    # Extracting year and week
    year_week = strftime(date, format = &quot;%Y-%W&quot;),
    
    # Extracting first day of the month
    first_day_of_month = &quot;01&quot;,
    
    # Turning into Date
    competition_since = make_date(competition_open_since_year, competition_open_since_month,first_day_of_month),
    
    # Getting the difference in days
    competition_time_month = as.integer(difftime(date, competition_since, units = &quot;days&quot;)/30)
        
        )


# this is function to convert year-week to year-month-day
data_da_semana &lt;- function(ano, semana, diadasemana){
  w &lt;- paste0(ano, &quot;-W&quot;, sprintf(&quot;%02d&quot;, semana), &quot;-&quot;, diadasemana)
  ISOweek2date(w)-1
}

df2 &lt;- df2 %&gt;% 
  mutate(
    
    # convert year-week to year-month-day
    promo_since = data_da_semana(promo2since_year, promo2since_week, 1),
         
    # Getting the difference in days
    promo_time_week = difftime(date, promo_since, units = &quot;days&quot;)/7,
         
    # converting to integer
    promo_time_week = as.integer(promo_time_week),
         
    assortment = case_when(
                          # changing from a to basic  
                           assortment == &quot;a&quot; ~ &quot;basic&quot;,
                          
                           # changing from b to extra 
                           assortment == &quot;b&quot; ~ &quot;extra&quot;,
                                
                           # everything else for extended
                           T ~ &quot;extended&quot;),
    
    state_holiday = case_when(
                           # changing from a to public_holiday  
                           state_holiday == &quot;a&quot; ~ &quot;public_holiday&quot;,
                                   
                           # changing from b to easter_holiday
                           state_holiday == &quot;b&quot; ~ &quot;easter_holiday&quot;,
                                   
                           # changing from b to christmas
                           state_holiday == &quot;c&quot; ~ &quot;christmas&quot;,
                           
                           # everything else for regular_day     
                           T ~ &quot;regular_day&quot;))</code></pre>
</div>
</div>
<div id="variable-filtering" class="section level1">
<h1>Variable filtering</h1>
<pre class="r"><code>df3 &lt;- df2</code></pre>
<div id="rows-filtering" class="section level2">
<h2>Rows Filtering</h2>
<pre class="r"><code># Removing the records of the days the stores are closed and thus obtaining only sales with values&gt; 0
df3 &lt;- 
  df3 %&gt;% 
  filter(open != 0 &amp; sales &gt; 0)</code></pre>
</div>
<div id="columns-filtering" class="section level2">
<h2>Columns Filtering</h2>
<pre class="r"><code># Removing features that were not available at the time of production and will not be needed.
df3 &lt;- df3 %&gt;% 
  select(-customers, -open, -promo_interval, -month_map)</code></pre>
</div>
</div>
<div id="exploration-data-analysis" class="section level1">
<h1>Exploration Data Analysis</h1>
<pre class="r"><code>df4 &lt;- df3</code></pre>
<div id="univariate-analysis" class="section level2">
<h2>Univariate Analysis</h2>
<div id="variable-response" class="section level3">
<h3>Variable Response</h3>
<pre class="r"><code>df4 %&gt;% 
  ggplot(aes(sales))+
  geom_histogram(col=&quot;black&quot;, fill=&quot;steelblue&quot;)+
  scale_x_continuous(breaks = seq(0,40000, 2000))+
  labs(title = &quot;count vs sales&quot;)+
  theme(plot.title = element_text(hjust = 0.5, size = 18))</code></pre>
<p><img src="{{< blogdown/postref >}}index.pt_files/figure-html/unnamed-chunk-21-1.png" width="1248" /></p>
<p>O maior numero de vendas está a partir de 4000 a 9000 dollares.<br />
The biggest number of sales is from 4000 to 9000 dollars.</p>
</div>
<div id="distribution-of-numerical-variables" class="section level3">
<h3>Distribution of Numerical Variables</h3>
<pre class="r"><code>num_attributes %&gt;%
  keep(is.numeric) %&gt;% 
  gather() %&gt;% 
  ggplot(aes(value)) +
    facet_wrap(~ key, scales = &quot;free&quot;) +
    geom_histogram(col= &quot;black&quot;, fill=&quot;steelblue&quot;, bins = 25)+
    scale_y_continuous(labels = function(x) format(x, scientific = FALSE))+
  labs(title = &quot;Distribution of numerical variables&quot;)+
  theme(plot.title = element_text(hjust = 0.5, size = 18))</code></pre>
<p><img src="{{< blogdown/postref >}}index.pt_files/figure-html/unnamed-chunk-22-1.png" width="1248" /></p>
</div>
<div id="categorical-variables" class="section level3">
<h3>Categorical Variables</h3>
<pre class="r"><code>barplot_state_holiday &lt;- df4 %&gt;% 
  filter(state_holiday != &quot;regular_day&quot;) %&gt;% 
  ggplot(aes(state_holiday, fill=state_holiday))+
  geom_bar(col=&quot;black&quot;)+
  labs(title= &quot;count vs state_holiday&quot;)+
  theme(plot.title = element_text(hjust = 0.5, size = 18))
  

density_state_holiday &lt;- df4 %&gt;% 
  filter(state_holiday != &quot;regular_day&quot;) %&gt;% 
  ggplot(aes(sales, fill= state_holiday))+
  geom_density(alpha= 0.4)+
  labs(title= &quot;Distribution state holiday&quot;)+
  theme(plot.title = element_text(hjust = 0.5, size = 18))

barplot_store_type &lt;- df4 %&gt;% 
  ggplot(aes(store_type, fill=store_type))+
  geom_bar(col=&quot;black&quot;)+
  scale_y_continuous(labels = function(x) format(x, scientific = FALSE))+
  labs(title= &quot;count vs store_type&quot;)+
  theme(plot.title = element_text(hjust = 0.5, size = 18))

density_store_type &lt;- df4 %&gt;% 
  ggplot(aes(sales, fill= store_type))+
  geom_density(alpha= 0.4)+
  labs(title= &quot;Distribution store_type&quot;)+
  theme(plot.title = element_text(hjust = 0.5, size = 18))

barplot_assortment &lt;- df4 %&gt;% 
  ggplot(aes(assortment, fill=assortment))+
  geom_bar(col=&quot;black&quot;)+
  scale_y_continuous(labels = function(x) format(x, scientific = FALSE))+
  labs(title= &quot;count vs assortment&quot;)+
  theme(plot.title = element_text(hjust = 0.5, size = 18))

density_assortment &lt;- df4 %&gt;% 
  ggplot(aes(sales, fill= assortment))+
  geom_density(alpha= 0.4)+
  labs(title= &quot;Distribution assortment&quot;)+
  theme(plot.title = element_text(hjust = 0.5, size = 18))

grid.arrange(barplot_state_holiday, density_state_holiday,
             barplot_store_type, density_store_type,
             barplot_assortment, density_assortment,
             nrow= 3,ncol=2)</code></pre>
<p><img src="{{< blogdown/postref >}}index.pt_files/figure-html/unnamed-chunk-23-1.png" width="1248" /></p>
</div>
</div>
<div id="bivariate-analysis" class="section level2">
<h2>Bivariate Analysis</h2>
<p><strong>H1.</strong> Lojas com maior sortimentos deveriam vender mais.<br />
<strong>H1.</strong> Stores with larger assortments should sell more.</p>
<p><strong>Falsa</strong> Lojas com <strong>maior sortimento</strong> , <strong>vendem menos</strong>.<br />
<strong>False</strong> Stores with <strong>greater assortment </strong>, <strong>sell less</strong>.</p>
<p><a href="#fig:distribution"><strong>??</strong></a></p>
<pre class="r"><code>density_assortment +
  labs(title= &quot;Distribution assortment&quot;)+
  theme(plot.title = element_text(hjust = 0.5, size = 18))</code></pre>
<p><img src="{{< blogdown/postref >}}index.pt_files/figure-html/distribution-1.png" width="1248" />
Visualizando a variável assortment para verificar se algum momento o sortimento extra foi maior.</p>
<p>Viewing the assortment variable to check if the extra assortment was ever greater.</p>
<pre class="r"><code>ggarrange( 
  
  df4 %&gt;%
  group_by(date, assortment) %&gt;% 
  summarise_by_time(date, .by = &quot;weeks&quot;,sales = sum(sales)) %&gt;% 
  ungroup() %&gt;% 
  ggplot(aes(date, sales))+
  geom_line(aes(col= assortment), lwd= 1)+
  scale_y_continuous(labels = scales::label_number_si())+
  scale_x_date(breaks = &quot;2 month&quot;, minor_breaks = &quot;1 week&quot;, date_labels = &quot;%Y-%W&quot;)+
  labs(title= &quot;year/week vs sales / assortment&quot;)+
  theme(plot.title = element_text(hjust = 0.5, size = 18)), 


  df4 %&gt;%
    filter(assortment != &quot;basic&quot; &amp; assortment != &quot;extended&quot;) %&gt;% 
    group_by(date, assortment) %&gt;% 
    summarise_by_time(date, .by = &quot;weeks&quot;,sales = sum(sales)) %&gt;% 
    ungroup() %&gt;% 
    ggplot(aes(date, sales))+
    geom_line(aes(col= assortment), lwd= 1)+
    scale_y_continuous(labels = scales::label_number_si())+
    scale_x_date(breaks = &quot;2 month&quot;, minor_breaks = &quot;1 week&quot;, date_labels = &quot;%Y-%W&quot;)+
    labs(title= &quot;year/week vs sales / extra&quot;)+
    theme(plot.title = element_text(hjust = 0.5, size = 18)), ncol = 1) </code></pre>
<p><img src="{{< blogdown/postref >}}index.pt_files/figure-html/unnamed-chunk-24-1.png" width="1248" /></p>
<p>Há uma diferença de escala entre basic/extended para extra, por isso plotarei o sortimento extra sozinho.</p>
<p>There is a difference in scale between basic / extended to extra, so I will plot the extra assortment myself.</p>
<p><strong>H2.</strong> Lojas com competidores mais próximos deveriam vender menos.<br />
<strong>H2.</strong> Stores with closer competitors should sell less.</p>
<p><strong>Falsa</strong> Lojas com <strong>competidores mais próximos</strong> , <strong>vendem mais</strong>.<br />
<strong>False</strong> Stores with <strong>closest competitors </strong>, <strong>sell more</strong>.</p>
<pre class="r"><code>label &lt;- c(&quot;0-1000m&quot;, &quot;1000-2000m&quot;,&quot;2000-3000m&quot;,&quot;3000-4000m&quot;,&quot;4000-5000m&quot;,
           &quot;5000-6000m&quot;, &quot;6000-7000m&quot;,&quot;7000-8000m&quot;,&quot;8000-9000m&quot;,&quot;9000-10000m&quot;,
           &quot;10000-11000m&quot;, &quot;11000-12000m&quot;,&quot;12000-13000m&quot;,&quot;13000-14000m&quot;,&quot;14000-15000m&quot;,
           &quot;15000-16000m&quot;, &quot;16000-17000m&quot;,&quot;17000-18000m&quot;,&quot;18000-19000m&quot;,&quot;19000-20000m&quot;)

df4$competition_dstance_binned &lt;- cut(df4$competition_distance, breaks = seq(0, 20000, 1000), labels = label)

fig4 &lt;- df4 %&gt;% 
  drop_na(competition_dstance_binned) %&gt;%
  group_by(competition_dstance_binned) %&gt;% 
  summarise(sales = sum(sales), .groups = &#39;drop&#39;) %&gt;% 
  ggplot(aes(competition_dstance_binned, sales, fill= competition_dstance_binned)) +
  geom_bar(stat = &quot;identity&quot;, col=&quot;black&quot;)+
  theme(axis.text.x = element_text(angle = 90), legend.position = &quot;none&quot;)+
  scale_y_continuous(labels = scales::label_number_si())+
  labs(title= &quot;Distribution competition_distance vs sales&quot;)+
  theme(plot.title = element_text(hjust = 0.5, size = 18))

fig5 &lt;- df4 %&gt;% 
  group_by(competition_distance) %&gt;% 
  summarise(sales= sum(sales), .groups=&quot;drop&quot;) %&gt;% 
  ggplot(aes(x = competition_distance, sales))+
  geom_point( shape=21, fill=&quot;steelblue&quot;, size=3, color=&quot;white&quot;)+
  scale_y_continuous(labels = scales::label_number_si())+
  labs(title= &quot;competition_distance vs sales&quot;)+
  theme(plot.title = element_text(hjust = 0.5, size = 18))

grid.arrange(fig4, fig5, nrow= 2,ncol=1)</code></pre>
<p><img src="{{< blogdown/postref >}}index.pt_files/figure-html/unnamed-chunk-25-1.png" width="1248" /></p>
<pre class="r"><code>df4 %&gt;% 
  select(competition_distance, sales) %&gt;% 
  cor(method = &quot;pearson&quot;) %&gt;% 
  kable(caption = &quot;Correlation Table Competition_distance vs Sales&quot;) %&gt;% 
  kable_styling(full_width = F, bootstrap_options = c(&quot;striped&quot;, &quot;hover&quot;, &quot;condesend&quot;, &quot;responsive&quot;),html_font = &quot;Cambria&quot;)</code></pre>
<table class="table table-striped table-hover table-responsive" style="font-family: Cambria; width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:unnamed-chunk-26">Table 1: </span>Correlation Table Competition_distance vs Sales
</caption>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
competition_distance
</th>
<th style="text-align:right;">
sales
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
competition_distance
</td>
<td style="text-align:right;">
1.0000000
</td>
<td style="text-align:right;">
-0.0415451
</td>
</tr>
<tr>
<td style="text-align:left;">
sales
</td>
<td style="text-align:right;">
-0.0415451
</td>
<td style="text-align:right;">
1.0000000
</td>
</tr>
</tbody>
</table>
<p><strong>H3.</strong> Lojas com competidores à mais tempo deveriam vendem mais.<br />
<strong>H3.</strong> Stores with longer competitors should sell more.</p>
<p><strong>Falsa</strong> Lojas com <strong>competidores á mais tempo</strong> , <strong>vendem menos</strong>.<br />
<strong>False</strong> Stores with <strong>competitors for longer </strong>, <strong>sell less</strong>.</p>
<pre class="r"><code>ggarrange(

  df4 %&gt;% 
  group_by(competition_time_month) %&gt;% 
  summarise(sales= sum(sales), .groups = &quot;drop&quot;) %&gt;%
  filter(competition_time_month &lt; 120 &amp; competition_time_month != 0) %&gt;%
  ggplot(aes(competition_time_month, sales)) +
  geom_point(col=&quot;steelblue&quot;, size= 1)+
  geom_smooth( formula = &quot;y~x&quot;,method = &quot;lm&quot;, se = FALSE, color= &quot;red&quot;)+
  scale_y_continuous(labels = scales::label_number_si())+
  labs(title= &quot;competition_time_month vs sales&quot;)+
  theme(plot.title = element_text(hjust = 0.5, size = 18)),

df4 %&gt;% 
  group_by(competition_time_month) %&gt;% 
  summarise(sales= sum(sales), .groups = &quot;drop&quot;) %&gt;%
  filter(competition_time_month &lt; 120 &amp; competition_time_month != 0) %&gt;% 
 
  plot_time_series(competition_time_month,sales, .interactive = F, .title = &quot;Competition_time_month Vs Sales&quot;,
                   .x_lab= &quot;competition_time_month&quot;,
                   .y_lab=&quot;sales&quot;,
                   .line_color = &quot;red&quot;, 
                   .line_size= 1)+
  scale_y_continuous(labels = scales::label_number_si())+
  scale_x_continuous(breaks = seq(-40,120,10))+
  labs(title= &quot;competition_time_month vs sales&quot;)+
  theme(plot.title = element_text(hjust = 0.5, size = 18))
,ncol=1 )</code></pre>
<p><img src="{{< blogdown/postref >}}index.pt_files/figure-html/unnamed-chunk-27-1.png" width="1248" /></p>
<pre class="r"><code>df4 %&gt;% 
  select(competition_time_month, sales) %&gt;% 
  cor(method = &quot;pearson&quot;) %&gt;% 
  kable(caption = &quot;Correlation Table Competition_time_month vs Sales&quot;) %&gt;% 
  kable_styling(full_width = F, bootstrap_options = c(&quot;striped&quot;, &quot;hover&quot;, &quot;condesend&quot;, &quot;responsive&quot;),html_font = &quot;Cambria&quot;)</code></pre>
<table class="table table-striped table-hover table-responsive" style="font-family: Cambria; width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:unnamed-chunk-28">Table 2: </span>Correlation Table Competition_time_month vs Sales
</caption>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
competition_time_month
</th>
<th style="text-align:right;">
sales
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
competition_time_month
</td>
<td style="text-align:right;">
1.0000000
</td>
<td style="text-align:right;">
-0.0034788
</td>
</tr>
<tr>
<td style="text-align:left;">
sales
</td>
<td style="text-align:right;">
-0.0034788
</td>
<td style="text-align:right;">
1.0000000
</td>
</tr>
</tbody>
</table>
<p><strong>H4.</strong> Lojas com promoções ativas por mais tempo deveriam vender mais.<br />
<strong>H4.</strong> Stores with active promotions for longer should sell more.</p>
<p><strong>Falsa</strong> Lojas com promoções ativas <strong>por mais tempo</strong> , <strong>vendem menos</strong>.<br />
<strong>False</strong> Stores with active promotions <strong>longer </strong>, <strong>sell less</strong>.</p>
<pre class="r"><code>fig8 &lt;- aux1 %&gt;% 
  group_by(promo_time_week) %&gt;% 
  summarise(sales = sum(sales)) %&gt;% 
  filter(promo_time_week &lt; 0) %&gt;% 
  ggplot(aes(promo_time_week, sales))+
  geom_bar(stat=&#39;identity&#39;, fill=&quot;steelblue&quot;, col=&quot;black&quot;)+
  scale_y_continuous(labels = scales::label_number_si())+
  labs(title= &quot;promo_time_week &lt; 0 vs sales&quot;)+
  theme(plot.title = element_text(hjust = 0.5, size = 18))

fig9 &lt;- aux1 %&gt;% 
  group_by(promo_time_week) %&gt;% 
  summarise(sales = sum(sales)) %&gt;% 
  filter(promo_time_week &gt; 0) %&gt;% 
  ggplot(aes(promo_time_week, sales))+
  geom_bar(stat=&#39;identity&#39;, fill=&quot;steelblue&quot;, col=&quot;black&quot;)+
  scale_y_continuous(labels = scales::label_number_si())+
  labs(title= &quot;promo_time_week &gt; 0 vs sales&quot;)+
  theme(plot.title = element_text(hjust = 0.5, size = 18))

fig14 &lt;- aux1 %&gt;% 
  group_by(promo_time_week) %&gt;% 
  summarise(sales = sum(sales)) %&gt;% 
  filter(promo_time_week &gt; 0) %&gt;% 
  ggplot(aes(promo_time_week, sales))+
  geom_point(shape=21, fill=&quot;steelblue&quot;, size=3, color=&quot;white&quot;)+
  scale_y_continuous(labels = scales::label_number_si())+
  geom_smooth( formula = &quot;y~x&quot;,method = &quot;lm&quot;, se = FALSE, color= &quot;red&quot;)+
  labs(title= &quot;promo_time_week vs sales&quot;)+
  theme(plot.title = element_text(hjust = 0.5, size = 18))
  

grid.arrange(fig8, fig9,fig14, nrow= 3,ncol=1)</code></pre>
<p><img src="{{< blogdown/postref >}}index.pt_files/figure-html/unnamed-chunk-30-1.png" width="1248" /></p>
<pre class="r"><code>aux1 %&gt;% 
  select(promo_time_week, sales) %&gt;% 
  cor(method = &quot;pearson&quot;) %&gt;% 
  kable(caption = &quot;Correlation Table promo_time_week vs Sales&quot;) %&gt;% 
  kable_styling(full_width = F, bootstrap_options = c(&quot;striped&quot;, &quot;hover&quot;, &quot;condesend&quot;, &quot;responsive&quot;),html_font = &quot;Cambria&quot;)</code></pre>
<table class="table table-striped table-hover table-responsive" style="font-family: Cambria; width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:unnamed-chunk-31">Table 3: </span>Correlation Table promo_time_week vs Sales
</caption>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
promo_time_week
</th>
<th style="text-align:right;">
sales
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
promo_time_week
</td>
<td style="text-align:right;">
1.0000000
</td>
<td style="text-align:right;">
-0.0572574
</td>
</tr>
<tr>
<td style="text-align:left;">
sales
</td>
<td style="text-align:right;">
-0.0572574
</td>
<td style="text-align:right;">
1.0000000
</td>
</tr>
</tbody>
</table>
<p><strong>H5.</strong> Lojas com mais promoções consecutivas deveriam vender mais.<br />
<strong>H5.</strong> Stores with more consecutive promotions should sell more.</p>
<p><strong>Falsa</strong> Lojas com mais promoções <strong>consecutivas</strong> , <strong>vendem menos</strong>.<br />
<strong>False</strong> Stores with more promotions <strong>consecutive </strong>, <strong>sell less</strong>.</p>
<pre class="r"><code>df4 %&gt;% 
  group_by(promo, promo2) %&gt;% 
  summarise(sales= sum(sales)) %&gt;% 
  kable() %&gt;% 
  kable_styling(full_width = F, bootstrap_options = c(&quot;striped&quot;, &quot;hover&quot;, &quot;condesend&quot;, &quot;responsive&quot;),html_font = &quot;Cambria&quot;)</code></pre>
<table class="table table-striped table-hover table-responsive" style="font-family: Cambria; width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:right;">
promo
</th>
<th style="text-align:right;">
promo2
</th>
<th style="text-align:right;">
sales
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1482612096
</td>
</tr>
<tr>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1289362241
</td>
</tr>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
1628930532
</td>
</tr>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
1472275754
</td>
</tr>
</tbody>
</table>
<pre class="r"><code>pp &lt;- ggplot( ) + aes(x= date) + geom_line(lwd=1,data= df4 %&gt;% filter(promo == 1 &amp; promo2 ==1) %&gt;% group_by(date) %&gt;% 
  summarise_by_time(date, .by = &quot;weeks&quot;,sales = sum(sales)),aes(y= sales, col= &quot;Tradicional &amp; Extendida&quot;, group = &quot;Tradicional &amp; Extendida&quot;))+
  geom_line(lwd=1,data= df4 %&gt;% filter(promo == 1 &amp; promo2 ==0) %&gt;% group_by(date) %&gt;% 
  summarise_by_time(date, .by = &quot;weeks&quot;,sales = sum(sales)),aes(y= sales, col= &quot;Extendida&quot;, group = &quot;basic&quot;))+
  scale_y_continuous(labels = scales::label_number_si())+
  scale_x_date(breaks = &quot;2 month&quot;, minor_breaks = &quot;1 week&quot;, date_labels = &quot;%Y-%W&quot;)+
  theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1))+
  labs(x= &quot;year week&quot;)+
  labs(title= &quot;year/week vs sales &quot;)+
  theme(plot.title = element_text(hjust = 0.5, size = 18))
  
pp</code></pre>
<p><img src="{{< blogdown/postref >}}index.pt_files/figure-html/unnamed-chunk-33-1.png" width="1248" /></p>
<p><strong>H6.</strong> Lojas abertas durante o feriado de Natal deveriam vender mais.<br />
<strong>H6.</strong> Stores open during the Christmas holiday should sell more.</p>
<p><strong>Falsa</strong> Lojas abertas durante o <strong>feriado de Natal</strong> , <strong>vendem menos</strong>.<br />
<strong>False</strong> Stores opened during the <strong>Christmas holiday </strong>, <strong>sell less</strong>.</p>
<pre class="r"><code>fig10 &lt;- df4 %&gt;% 
  filter(state_holiday != &quot;regular_day&quot;) %&gt;% 
  ggplot(aes(year , sales,fill=state_holiday))+
  geom_bar(stat=&#39;identity&#39;, position=position_dodge())+
  labs(title= &quot;count vs state_holiday&quot;)+
  theme(plot.title = element_text(hjust = 0.5, size = 18), legend.position=&quot;none&quot;)
 

grid.arrange(barplot_state_holiday, fig10, nrow= 2,ncol=1)</code></pre>
<p><img src="{{< blogdown/postref >}}index.pt_files/figure-html/unnamed-chunk-34-1.png" width="1248" /></p>
<p><strong>H7.</strong> Lojas deveriam vender mais ao longo dos anos.<br />
<strong>H7.</strong> Stores should sell more over the years.</p>
<p><strong>Falsa</strong> Lojas <strong>vendem menos</strong> , <strong>ao longo dos anos</strong>.<br />
<strong>False</strong> Stores <strong>sell less</strong>, <strong>over the years</strong>.</p>
<pre class="r"><code>df4 %&gt;% 
  group_by(year) %&gt;% 
  summarise(sales=sum(sales)) %&gt;% 
  ggplot(aes(year, sales))+
  geom_line(col=&quot;steelblue&quot;, lwd=1)+
  scale_x_continuous(breaks = c(2013,2014,2015))+
  scale_y_continuous(labels = scales::label_number_si())+
  labs(title= &quot;year vs sales&quot;)+
  theme(plot.title = element_text(hjust = 0.5, size = 18))</code></pre>
<p><img src="{{< blogdown/postref >}}index.pt_files/figure-html/unnamed-chunk-35-1.png" width="1248" /></p>
<pre class="r"><code>df4 %&gt;% 
  select(year, sales) %&gt;% 
  cor(method = &quot;pearson&quot;) %&gt;% 
  kable(caption = &quot;Correlation Table year vs Sales&quot;) %&gt;% 
  kable_styling(full_width = F, bootstrap_options = c(&quot;striped&quot;, &quot;hover&quot;, &quot;condesend&quot;, &quot;responsive&quot;),html_font = &quot;Cambria&quot;)</code></pre>
<table class="table table-striped table-hover table-responsive" style="font-family: Cambria; width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:unnamed-chunk-36">Table 4: </span>Correlation Table year vs Sales
</caption>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
year
</th>
<th style="text-align:right;">
sales
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
year
</td>
<td style="text-align:right;">
1.0000000
</td>
<td style="text-align:right;">
0.0361515
</td>
</tr>
<tr>
<td style="text-align:left;">
sales
</td>
<td style="text-align:right;">
0.0361515
</td>
<td style="text-align:right;">
1.0000000
</td>
</tr>
</tbody>
</table>
<p><strong>H8.</strong> Lojas deveriam vender mais no segundo semestre do ano.<br />
<strong>H8.</strong> Stores should sell more in the second half of the year.</p>
<p><strong>Falsa</strong> Lojas <strong>vendem menos</strong> , <strong>no segundo semestre do ano</strong>.<br />
<strong>False</strong> Stores <strong>sell less</strong>, <strong>in the second half of the year</strong>.</p>
<pre class="r"><code>df4 %&gt;% 
  group_by(month) %&gt;% 
  summarise(sales=sum(sales)) %&gt;% 
  ggplot(aes(month, sales))+
  geom_line(col=&quot;darkgreen&quot;, lwd=1)+
  scale_x_continuous(breaks = c(1,2,3,4,5,6,7,8,9,10,11,12))+
  scale_y_continuous(labels = scales::label_number_si())+
  labs(title = &quot;month vs sales&quot;)+
  theme(plot.title = element_text(hjust = 0.5, size = 18))</code></pre>
<p><img src="{{< blogdown/postref >}}index.pt_files/figure-html/unnamed-chunk-37-1.png" width="1248" /></p>
<pre class="r"><code>df4 %&gt;% 
  select(month, sales) %&gt;% 
  cor(method = &quot;pearson&quot;) %&gt;% 
  kable(caption = &quot;Correlation Table month vs Sales&quot;) %&gt;% 
  kable_styling(full_width = F, bootstrap_options = c(&quot;striped&quot;, &quot;hover&quot;, &quot;condesend&quot;, &quot;responsive&quot;),html_font = &quot;Cambria&quot;)</code></pre>
<table class="table table-striped table-hover table-responsive" style="font-family: Cambria; width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:unnamed-chunk-38">Table 5: </span>Correlation Table month vs Sales
</caption>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
month
</th>
<th style="text-align:right;">
sales
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
month
</td>
<td style="text-align:right;">
1.0000000
</td>
<td style="text-align:right;">
0.0735887
</td>
</tr>
<tr>
<td style="text-align:left;">
sales
</td>
<td style="text-align:right;">
0.0735887
</td>
<td style="text-align:right;">
1.0000000
</td>
</tr>
</tbody>
</table>
<p><strong>H9.</strong> Lojas deveriam vender mais depois do dia 10 de cada mês.<br />
<strong>H9.</strong> Stores should sell more after the 10th of each month.</p>
<p><strong>Verdadeira</strong> Lojas <strong>vendem mais</strong> , <strong>depois do dia 10 de cada mes</strong>.<br />
<strong>True</strong> Stores <strong>sell more</strong>, <strong>after the 10th of each month.</strong>.</p>
<pre class="r"><code>fig10 &lt;- df4 %&gt;% 
  group_by(day) %&gt;% 
  summarise(sales=sum(sales)) %&gt;% 
  ggplot(aes(day, sales))+
  geom_line(col=&quot;darkgreen&quot;, lwd=1)+
  scale_y_continuous(labels = scales::label_number_si())+
  scale_x_continuous(breaks = seq(0,31, 1))+
  labs(title= &quot;day vs sales&quot;)+
  theme(plot.title = element_text(hjust = 0.5, size = 18))

fig11 &lt;- df4 %&gt;% 
  mutate(day = ifelse(day &lt;= 10 , &quot;before_10_days&quot;, &quot;after_10_days&quot;)) %&gt;% 
  ggplot(aes(sales, fill=day))+
  geom_density(alpha= 0.4)+
  labs(title= &quot;Distribution sales / before_10_days / after_10_days &quot;)+
  theme(plot.title = element_text(hjust = 0.5, size = 18))

grid.arrange(fig10,fig11, nrow= 2,ncol=1)</code></pre>
<p><img src="{{< blogdown/postref >}}index.pt_files/figure-html/unnamed-chunk-39-1.png" width="1248" /></p>
<pre class="r"><code>df4 %&gt;% 
  select(day, sales) %&gt;% 
  cor(method = &quot;pearson&quot;) %&gt;% 
  kable(caption = &quot;Correlation Table day vs Sales&quot;) %&gt;% 
  kable_styling(full_width = F, bootstrap_options = c(&quot;striped&quot;, &quot;hover&quot;, &quot;condesend&quot;, &quot;responsive&quot;),html_font = &quot;Cambria&quot;)</code></pre>
<table class="table table-striped table-hover table-responsive" style="font-family: Cambria; width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:unnamed-chunk-40">Table 6: </span>Correlation Table day vs Sales
</caption>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
day
</th>
<th style="text-align:right;">
sales
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
day
</td>
<td style="text-align:right;">
1.0000000
</td>
<td style="text-align:right;">
-0.0518648
</td>
</tr>
<tr>
<td style="text-align:left;">
sales
</td>
<td style="text-align:right;">
-0.0518648
</td>
<td style="text-align:right;">
1.0000000
</td>
</tr>
</tbody>
</table>
<p><strong>H10.</strong> Lojas deveriam vender menos aos finais de semana.<br />
<strong>H10.</strong> Stores should sell less on weekends.</p>
<p><strong>Verdadeira</strong> Lojas <strong>vendem menos</strong> , <strong>nos finais de semana</strong>.<br />
<strong>True</strong> Stores <strong>sell less</strong>, <strong>on weekends</strong>.</p>
<pre class="r"><code>df4 %&gt;% 
  group_by(day_of_week) %&gt;% 
  summarise(sales=sum(sales)) %&gt;% 
  ggplot(aes(day_of_week, sales))+
  geom_line(col=&quot;darkred&quot;, lwd=1)+
  scale_y_continuous(labels = scales::label_number_si())+
  scale_x_continuous(breaks = seq(1,7, 1))+
  labs(title= &quot;day_of_week vs sales &quot;)+
  theme(plot.title = element_text(hjust = 0.5, size = 18))</code></pre>
<p><img src="{{< blogdown/postref >}}index.pt_files/figure-html/unnamed-chunk-41-1.png" width="1248" /></p>
<pre class="r"><code>df4 %&gt;% 
  select(day_of_week, sales) %&gt;% 
  cor(method = &quot;pearson&quot;) %&gt;% 
  kable(caption = &quot;Correlation Table day_of_week vs Sales&quot;) %&gt;% 
  kable_styling(full_width = F, bootstrap_options = c(&quot;striped&quot;, &quot;hover&quot;, &quot;condesend&quot;, &quot;responsive&quot;),html_font = &quot;Cambria&quot;)</code></pre>
<table class="table table-striped table-hover table-responsive" style="font-family: Cambria; width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:unnamed-chunk-42">Table 7: </span>Correlation Table day_of_week vs Sales
</caption>
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:right;">
day_of_week
</th>
<th style="text-align:right;">
sales
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
day_of_week
</td>
<td style="text-align:right;">
1.0000000
</td>
<td style="text-align:right;">
-0.1787531
</td>
</tr>
<tr>
<td style="text-align:left;">
sales
</td>
<td style="text-align:right;">
-0.1787531
</td>
<td style="text-align:right;">
1.0000000
</td>
</tr>
</tbody>
</table>
<p><strong>H11.</strong> Lojas deveriam vender menos durante os feriados escolares.<br />
<strong>H11.</strong> Stores should sell less during school holidays.</p>
<p><strong>Verdadeira</strong> Lojas <strong>vendem menos</strong> , <strong>durante os feriadso escolares, except os meses de Julho e Agosto</strong>.<br />
<strong>True</strong> Stores <strong>sell less</strong>, <strong>during school holidays, except July and August</strong>.</p>
<pre class="r"><code>fig12 &lt;- df4 %&gt;%
  mutate(school_holiday = as.factor(school_holiday)) %&gt;% 
  ggplot(aes(sales, fill=school_holiday))+
  geom_density(alpha= 0.4)+
  labs(title= &quot;Distribution sales / school_holiday &quot;)+
  theme(plot.title = element_text(hjust = 0.5, size = 18))

fig13 &lt;- df4 %&gt;% 
  group_by(month, school_holiday) %&gt;% 
  summarise(sales= sum(sales)) %&gt;%
  mutate(month = as.factor(month),
         school_holiday = as.factor(school_holiday)) %&gt;% 
  ggplot(aes(month , sales,fill=school_holiday))+
  geom_bar(stat=&#39;identity&#39;, position=position_dodge(), col=&quot;black&quot;)+
  scale_y_continuous(labels = scales::label_number_si())+
  labs(title= &quot;month vs sales / school_holiday &quot;)+
  theme(plot.title = element_text(hjust = 0.5, size = 18))

grid.arrange(fig12,fig13, nrow= 2,ncol=1)</code></pre>
<p><img src="{{< blogdown/postref >}}index.pt_files/figure-html/unnamed-chunk-43-1.png" width="1248" /></p>
<div id="summary-of-hypotheses" class="section level3">
<h3>Summary of Hypotheses</h3>
<pre class="r"><code>kable(data.frame( Hypotheses = c(&quot;H1&quot;,&quot;H2&quot;,&quot;H3&quot;,&quot;H4&quot;,&quot;H5&quot;,&quot;H6&quot;,&quot;H7&quot;, &quot;H8&quot;, &quot;H9&quot;,&quot;H10&quot;,&quot;H11&quot;)  , 
                  Conclusions = c(&quot;False&quot;,&quot;False&quot;,&quot;False&quot;,&quot;False&quot;, &quot;False&quot;,&quot;False&quot;,&quot;False&quot;, &quot;True&quot;,&quot;True&quot;, &quot;True&quot;, &quot;True&quot;) , 
                  Relevance = c(&quot;Medium&quot;,&quot;Low&quot;,&quot;Low&quot;,&quot;High&quot;,&quot;Medium&quot;,&quot;Low&quot;,&quot;Low&quot;, &quot;Low&quot;,&quot;Low&quot;,&quot;Low&quot;,&quot;Low&quot;) )
      , caption =&quot;Hypothesis Summary Table&quot; ) %&gt;% 
  kable_styling(full_width = F, bootstrap_options = c(&quot;striped&quot;, &quot;hover&quot;, &quot;condesend&quot;),html_font = &quot;Cambria&quot;)</code></pre>
<table class="table table-striped table-hover" style="font-family: Cambria; width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:unnamed-chunk-44">Table 8: </span>Hypothesis Summary Table
</caption>
<thead>
<tr>
<th style="text-align:left;">
Hypotheses
</th>
<th style="text-align:left;">
Conclusions
</th>
<th style="text-align:left;">
Relevance
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
H1
</td>
<td style="text-align:left;">
False
</td>
<td style="text-align:left;">
Medium
</td>
</tr>
<tr>
<td style="text-align:left;">
H2
</td>
<td style="text-align:left;">
False
</td>
<td style="text-align:left;">
Low
</td>
</tr>
<tr>
<td style="text-align:left;">
H3
</td>
<td style="text-align:left;">
False
</td>
<td style="text-align:left;">
Low
</td>
</tr>
<tr>
<td style="text-align:left;">
H4
</td>
<td style="text-align:left;">
False
</td>
<td style="text-align:left;">
High
</td>
</tr>
<tr>
<td style="text-align:left;">
H5
</td>
<td style="text-align:left;">
False
</td>
<td style="text-align:left;">
Medium
</td>
</tr>
<tr>
<td style="text-align:left;">
H6
</td>
<td style="text-align:left;">
False
</td>
<td style="text-align:left;">
Low
</td>
</tr>
<tr>
<td style="text-align:left;">
H7
</td>
<td style="text-align:left;">
False
</td>
<td style="text-align:left;">
Low
</td>
</tr>
<tr>
<td style="text-align:left;">
H8
</td>
<td style="text-align:left;">
True
</td>
<td style="text-align:left;">
Low
</td>
</tr>
<tr>
<td style="text-align:left;">
H9
</td>
<td style="text-align:left;">
True
</td>
<td style="text-align:left;">
Low
</td>
</tr>
<tr>
<td style="text-align:left;">
H10
</td>
<td style="text-align:left;">
True
</td>
<td style="text-align:left;">
Low
</td>
</tr>
<tr>
<td style="text-align:left;">
H11
</td>
<td style="text-align:left;">
True
</td>
<td style="text-align:left;">
Low
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="multivariate-analysis" class="section level2">
<h2>Multivariate Analysis</h2>
<div id="numerical-attributes" class="section level3">
<h3>Numerical Attributes</h3>
<pre class="r"><code>df4 %&gt;% 
  keep(is.numeric) %&gt;% 
  cor() %&gt;% 
  ggcorrplot::ggcorrplot(hc.order = T,
             type = &quot;lower&quot;,
             lab=T,
             lab_size = 3,
             method = &quot;square&quot;,
             colors = c(&quot;chocolate1&quot;,&quot;white&quot;,&quot;darkcyan&quot;),
             ggtheme = theme_minimal())</code></pre>
<p><img src="{{< blogdown/postref >}}index.pt_files/figure-html/unnamed-chunk-45-1.png" width="1248" /></p>
</div>
<div id="categorical-attributes-1" class="section level3">
<h3>Categorical Attributes</h3>
<pre class="r"><code>df4 %&gt;%
  mutate(store_type = as.character(store_type)) %&gt;% 
  keep(is.character) %&gt;% 
  select(-first_day_of_month, -year_week) %&gt;%
  as.data.frame() %&gt;% 
  catcor(type=&quot;cramer&quot;) %&gt;% 
  ggcorrplot::ggcorrplot(hc.order = T,
             type = &quot;lower&quot;,
             lab=T,
             lab_size = 3,
             method = &quot;square&quot;,
             colors = c(&quot;chocolate1&quot;,&quot;white&quot;,&quot;steelblue&quot;),
             ggtheme = theme_minimal())</code></pre>
<p><img src="{{< blogdown/postref >}}index.pt_files/figure-html/unnamed-chunk-46-1.png" width="1248" /></p>
<pre class="r"><code>df4 &lt;- df3</code></pre>
</div>
</div>
</div>
<div id="data-preparation" class="section level1">
<h1>Data Preparation</h1>
<pre class="r"><code>df5 &lt;- df4</code></pre>
<div id="rescaling" class="section level2">
<h2>Rescaling</h2>
<pre class="r"><code>df5 &lt;- df5 %&gt;% 
  mutate(competition_distance = robust_scaler(competition_distance),
         competition_time_month = robust_scaler(competition_time_month),
         promo_time_week = minmax_scaler(promo_time_week),
         year= minmax_scaler(year))</code></pre>
</div>
<div id="transformation" class="section level2">
<h2>Transformation</h2>
<div id="encoding" class="section level3">
<h3>Encoding</h3>
<pre class="r"><code># state_holiday -  One Hot Encoding
one_hot_state_holiday &lt;- df5 %&gt;% 
  select(state_holiday) %&gt;% 
  fastDummies::dummy_cols()

# store_type - Label Encoding
df5$store_type &lt;-  df5 %&gt;% 
  select(store_type) %&gt;% 
  data.matrix() %&gt;% 
  as.data.frame()

# assortment - Ordinal Encoding
df5 &lt;- df5 %&gt;%
  mutate(assortment= recode_factor(assortment,&quot;basic&quot;=&quot;1&quot;,
                                              &quot;extra&quot;=&quot;2&quot;,
                                              &quot;extended&quot;=&quot;3&quot;,.ordered = TRUE))

df5 &lt;- cbind(df5, one_hot_state_holiday)

df5 &lt;- df5 %&gt;% 
  select( - state_holiday)</code></pre>
</div>
<div id="variable-response-transformation" class="section level3">
<h3>Variable Response Transformation</h3>
<pre class="r"><code>df5 &lt;- df5 %&gt;% 
  mutate(sales = log1p(sales))</code></pre>
<pre class="r"><code>df5 %&gt;% 
  ggplot(aes(sales))+
  geom_histogram(aes(y =..density..),col=&quot;black&quot;, fill=&quot;steelblue&quot;)+
  stat_function(fun = dnorm, args = list(mean = mean(df5$sales), sd = sd(df5$sales)), col=&quot;red&quot;, lwd=1)</code></pre>
<p><img src="{{< blogdown/postref >}}index.pt_files/figure-html/unnamed-chunk-52-1.png" width="1248" /></p>
</div>
<div id="nature-transformation" class="section level3">
<h3>Nature Transformation</h3>
<pre class="r"><code>df5 &lt;- df5 %&gt;% 
  mutate(day_of_week_sin = round(sin(day_of_week*(2. * pi/7)),2),
         day_of_week_cos = round(cos(day_of_week*(2. * pi/7)),2),
         month_sin = round(sin(month*(2. * pi/12)),2),
         month_cos = round(cos(month*(2. * pi/12)),2),
         day_sin = round(sin(day*(2. * pi/30)),2),
         day_cos = round(cos(day*(2. * pi/30)),2),
         week_of_year_sin = round(sin(week_of_year*(2. * pi/52)),2),
         week_of_year_cos = round(cos(week_of_year*(2. * pi/52)),2),
        )

df5 &lt;- df5 %&gt;% 
  select(- day_of_week, -month, -day, - week_of_year, - promo_since, -competition_since)</code></pre>
</div>
</div>
</div>
<div id="feature-selection" class="section level1">
<h1>Feature Selection</h1>
<pre class="r"><code>df6 &lt;- df5</code></pre>
<div id="selection-of-features-with-boruta" class="section level2">
<h2>Selection of features with Boruta</h2>
<pre class="r"><code>#boruta &lt;- Boruta(sales ~.,data = X_train ,doTrace =2 )</code></pre>
</div>
<div id="manual-feature-selection" class="section level2">
<h2>Manual Feature Selection</h2>
<pre class="r"><code>cols_selected_boruta &lt;- c(&quot;store&quot;,&quot;store_type&quot;,&quot;promo&quot;, &quot;assortment&quot;, &quot;competition_distance&quot;, &quot;competition_open_since_month&quot;,
    &quot;competition_open_since_year&quot;,&quot;promo2&quot;,&quot;promo2since_week&quot;,&quot;promo2since_year&quot;, &quot;competition_time_month&quot;,
    &quot;promo_time_week&quot;, &quot;day_of_week_sin&quot;, &quot;day_of_week_cos&quot;, &quot;month_sin&quot;,&quot;month_cos&quot;, &quot;day_sin&quot;, &quot;day_cos&quot;,
    &quot;week_of_year_sin&quot;, &quot;week_of_year_cos&quot;)

cols_selected_boruta_full &lt;- c(&quot;store&quot;,&quot;store_type&quot;,&quot;promo&quot;, &quot;assortment&quot;, &quot;competition_distance&quot;, &quot;competition_open_since_month&quot;,
    &quot;competition_open_since_year&quot;,&quot;promo2&quot;,&quot;promo2since_week&quot;,&quot;promo2since_year&quot;, &quot;competition_time_month&quot;,
    &quot;promo_time_week&quot;, &quot;day_of_week_sin&quot;, &quot;day_of_week_cos&quot;, &quot;month_sin&quot;,&quot;month_cos&quot;, &quot;day_sin&quot;, &quot;day_cos&quot;,
    &quot;week_of_year_sin&quot;, &quot;week_of_year_cos&quot;, &quot;sales&quot;, &quot;date&quot;)</code></pre>
</div>
<div id="reading-the-data-1" class="section level2">
<h2>Reading the data</h2>
<pre class="r"><code># Dataset of Sales
df5 &lt;- read_csv(&quot;/home/renato/repos/Rossmann/inst/Data/data_modelling.csv&quot;)</code></pre>
</div>
<div id="manual-feature-selection-1" class="section level2">
<h2>Manual Feature Selection</h2>
<pre class="r"><code>df6 &lt;-  as_tibble(df5) %&gt;% 
  select(-X1)</code></pre>
<pre class="r"><code># Boruta selected features
cols_selected_boruta_full &lt;- c(&quot;store&quot;,&quot;store_type&quot;,&quot;promo&quot;, &quot;assortment&quot;, &quot;competition_distance&quot;, &quot;competition_open_since_month&quot;,
    &quot;competition_open_since_year&quot;,&quot;promo2&quot;,&quot;promo2since_week&quot;,&quot;promo2since_year&quot;, &quot;competition_time_month&quot;,
    &quot;promo_time_week&quot;, &quot;day_of_week_sin&quot;, &quot;day_of_week_cos&quot;, &quot;month_sin&quot;,&quot;month_cos&quot;, &quot;day_sin&quot;, &quot;day_cos&quot;,
    &quot;week_of_year_sin&quot;, &quot;week_of_year_cos&quot;, &quot;sales&quot;, &quot;date&quot;)</code></pre>
</div>
</div>
<div id="machine-learning-modelling" class="section level1">
<h1>Machine Learning Modelling</h1>
<pre class="r"><code>df6 &lt;- df6 %&gt;% 
  select(cols_selected_boruta_full) %&gt;% 
  mutate(sales = expm1(sales))


# Splitthe set in training and testing
data_split &lt;- df6 %&gt;%  time_series_split(assess = &quot;6 weeks&quot;, cumulative = T)

# Dataset Train
data_train &lt;- training(data_split)

# Dataset Test
data_test &lt;- testing(data_split)

rec &lt;- recipe(sales~.,data_train) 

# Selected metrics 
mt &lt;- metric_set(yardstick::rmse, yardstick::mae, yardstick::mape)</code></pre>
<div id="average-model" class="section level2">
<h2>Average Model</h2>
<pre class="r"><code>aux1 &lt;- data_test %&gt;% 
  select(store, sales)

aux2 &lt;- data_test %&gt;% 
  group_by(store) %&gt;% 
  summarise(predictions = mean(sales))
  
avg_model &lt;- aux1 %&gt;% 
  left_join(aux2, by= &quot;store&quot;) %&gt;% 
  select(sales, predictions) %&gt;% 
  rename(actual = &quot;sales&quot;)

baseline_result &lt;- ml_error(&quot;Average Model&quot;,avg_model)

baseline_result</code></pre>
<pre><code>     Model_Name      MAE   MAPE     RMSE
1 Average Model 1386.121 21.937 1836.357</code></pre>
</div>
<div id="linear-regression-model" class="section level2">
<h2>Linear Regression Model</h2>
<pre class="r"><code># Create Linear Regresion Model
#lm &lt;-
#  linear_reg() %&gt;% 
#  set_engine(&quot;lm&quot;) %&gt;% 
#  set_mode(&quot;regression&quot;)
 
# Training Model
#lm_fit &lt;- lm %&gt;%
#  fit(sales ~ . , data = data_train)

# Preditions
#lm_pred &lt;- lm_fit %&gt;% 
#  predict(data_test) %&gt;% 
#  bind_cols(data_test$sales) %&gt;% 
#  rename(predictions = &quot;.pred&quot;, actual = &quot;...2&quot;)
  
# Evaluate
#lm_result &lt;- ml_error(&quot;Linear Regression Model&quot;,lm_pred)

# Save pickle of results
#saveRDS(lm_result,&quot;Resultados_Modelos/lm_result.rds&quot;)

lm_result &lt;- readRDS(&quot;/home/renato/repos/Rossmann/inst/Resultados_Modelos/lm_result.rds&quot;)

lm_result %&gt;% 
  kable() %&gt;% 
  kable_styling(full_width = F, bootstrap_options = c(&quot;striped&quot;, &quot;hover&quot;, &quot;condesend&quot;, &quot;responsive&quot;), html_font = &quot;Cambria&quot;)</code></pre>
<table class="table table-striped table-hover table-responsive" style="font-family: Cambria; width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
Model_Name
</th>
<th style="text-align:right;">
MAE
</th>
<th style="text-align:right;">
MAPE
</th>
<th style="text-align:right;">
RMSE
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Linear Regression Model
</td>
<td style="text-align:right;">
1929.022
</td>
<td style="text-align:right;">
32.561
</td>
<td style="text-align:right;">
2661.223
</td>
</tr>
</tbody>
</table>
</div>
<div id="linear-regression-model---cross-validation" class="section level2">
<h2>Linear Regression Model - Cross Validation</h2>
<pre class="r"><code>#lm_result_cv &lt;- cross_validation(data_training , 5, &quot;Linear Regression Model Cross Validation&quot;, lm)

# Save pickle of results
#saveRDS(lm_result_cv,&quot;Resultados_Modelos/lm_result_cv.rds&quot;)

lm_result_cv &lt;- readRDS(&quot;/home/renato/repos/Rossmann/inst/Resultados_Modelos/lm_result_cv.rds&quot;)

lm_result_cv</code></pre>
<pre><code># A tibble: 1 x 4
  Model_name                       MAE              MAPE         RMSE           
  &lt;chr&gt;                            &lt;chr&gt;            &lt;chr&gt;        &lt;chr&gt;          
1 Linear Regression Model Cross V… 2120.97  +/-  2… 33.16  +/- … 2914.3  +/-  4…</code></pre>
</div>
<div id="random-forest-model" class="section level2">
<h2>Random Forest Model</h2>
<pre class="r"><code># Create Non-linear Model RandomForest
#rf &lt;-
#  rand_forest(trees = 100) %&gt;% 
#  set_engine(&quot;ranger&quot;) %&gt;% 
#  set_mode(&quot;regression&quot;)

# Training Model
#rf_fit &lt;- rf %&gt;%
#  fit(sales ~ ., data = data_train)


# Preditions
#rf_pred &lt;- rf_fit %&gt;% 
#   predict(data_test) %&gt;% 
#  bind_cols(data_test$sales) %&gt;% 
#  rename(predictions = &quot;.pred&quot;, actual = &quot;...2&quot;)


#rf_result &lt;- ml_error(&quot;Random Forest Model&quot;,rf_pred)  

# Save pickle of results
#saveRDS(rf_result,&quot;Resultados_Modelos/rf_result.rds&quot;)

rf_result &lt;- readRDS(&quot;/home/renato/repos/Rossmann/inst/Resultados_Modelos/rf_result.rds&quot;)

rf_result %&gt;% 
  kable() %&gt;% 
  kable_styling(full_width = F, bootstrap_options = c(&quot;striped&quot;, &quot;hover&quot;, &quot;condesend&quot;, &quot;responsive&quot;), html_font = &quot;Cambria&quot;)</code></pre>
<table class="table table-striped table-hover table-responsive" style="font-family: Cambria; width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
Model_Name
</th>
<th style="text-align:right;">
MAE
</th>
<th style="text-align:right;">
MAPE
</th>
<th style="text-align:right;">
RMSE
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Random Forest Model
</td>
<td style="text-align:right;">
934.618
</td>
<td style="text-align:right;">
15.369
</td>
<td style="text-align:right;">
1294.868
</td>
</tr>
</tbody>
</table>
</div>
<div id="random-forest-model---cross-validation" class="section level2">
<h2>Random Forest Model - Cross Validation</h2>
<pre class="r"><code>#rf_result_cv &lt;- cross_validation(data_training , 5, &quot;Random Forest Model Cross Validation&quot;, rf)

# Save pickle of results
#saveRDS(rf_result_cv,&quot;Resultados_Modelos/rf_result_cv.rds&quot;)

rf_result_cv &lt;- readRDS(&quot;/home/renato/repos/Rossmann/inst/Resultados_Modelos/rf_result_cv.rds&quot;)

rf_result_cv</code></pre>
<pre><code># A tibble: 1 x 4
  Model_name                      MAE             MAPE          RMSE            
  &lt;chr&gt;                           &lt;chr&gt;           &lt;chr&gt;         &lt;chr&gt;           
1 Random Forest Model Cross Vali… 1159.87  +/-  … 17.61  +/-  … 1611.5  +/-  50…</code></pre>
</div>
<div id="xgboosting-model" class="section level2">
<h2>Xgboosting Model</h2>
<pre class="r"><code># Create Model
#xg &lt;-
#  boost_tree(trees = 100) %&gt;% 
#  set_engine(&quot;xgboost&quot;) %&gt;% 
#  set_mode(&quot;regression&quot;)

# Training Model
#xg_fit &lt;- xg %&gt;%
#  fit(sales ~ ., data = data_train)


# Preditions
#xg_pred &lt;- xg_fit %&gt;% 
#  predict(data_test) %&gt;% 
#  bind_cols(data_test$sales) %&gt;% 
#  rename(predictions = &quot;.pred&quot;, actual = &quot;...2&quot;)

xg_result &lt;- readRDS(&quot;/home/renato/repos/Rossmann/inst/Resultados_Modelos/xg_result.rds&quot;)

# Evaluate
#xg_result &lt;- ml_error(&quot;Xgboosting Model&quot;,xg_pred)

# Save pickle of results
#saveRDS(xg_result,&quot;Resultados_Modelos/xg_result.rds&quot;)

xg_result %&gt;% 
  kable() %&gt;% 
  kable_styling(full_width = F, bootstrap_options = c(&quot;striped&quot;, &quot;hover&quot;, &quot;condesend&quot;, &quot;responsive&quot;), html_font = &quot;Cambria&quot;)</code></pre>
<table class="table table-striped table-hover table-responsive" style="font-family: Cambria; width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
Model_Name
</th>
<th style="text-align:right;">
MAE
</th>
<th style="text-align:right;">
MAPE
</th>
<th style="text-align:right;">
RMSE
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Xgboosting Model
</td>
<td style="text-align:right;">
931.904
</td>
<td style="text-align:right;">
15.319
</td>
<td style="text-align:right;">
1276.638
</td>
</tr>
</tbody>
</table>
<pre class="r"><code>result_xg_cv &lt;- readRDS(&quot;/home/renato/repos/Rossmann/inst/Resultados_Modelos/result_xg_cv.rds&quot;)

#result_xg_cv &lt;- cross_validation(data_training , 5, &quot;Xgboosting Model Cross Validation&quot;, xg)

# Save pickle of results
#saveRDS(result_xg_cv,&quot;Resultados_Modelos/result_xg_cv.rds&quot;)

result_xg_cv</code></pre>
<pre><code># A tibble: 1 x 4
  Model_name                   MAE               MAPE           RMSE            
  &lt;chr&gt;                        &lt;chr&gt;             &lt;chr&gt;          &lt;chr&gt;           
1 Xgboosting Model Cross Vali… 1127.08  +/-  19… 16.97  +/-  2… 1531.06  +/-  2…</code></pre>
</div>
<div id="comparing-model-performances" class="section level2">
<h2>Comparing Model Performances</h2>
<div id="single-performances" class="section level3">
<h3>Single Performances</h3>
<pre class="r"><code>bind_rows(baseline_result, lm_result, rf_result, xg_result) %&gt;% 
  arrange(RMSE) %&gt;% 
  kable() %&gt;% 
  kable_styling(full_width = F, bootstrap_options = c(&quot;striped&quot;, &quot;hover&quot;, &quot;condesend&quot;, &quot;responsive&quot;), html_font = &quot;Cambria&quot;)</code></pre>
<table class="table table-striped table-hover table-responsive" style="font-family: Cambria; width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
Model_Name
</th>
<th style="text-align:right;">
MAE
</th>
<th style="text-align:right;">
MAPE
</th>
<th style="text-align:right;">
RMSE
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Xgboosting Model
</td>
<td style="text-align:right;">
931.904
</td>
<td style="text-align:right;">
15.319
</td>
<td style="text-align:right;">
1276.638
</td>
</tr>
<tr>
<td style="text-align:left;">
Random Forest Model
</td>
<td style="text-align:right;">
934.618
</td>
<td style="text-align:right;">
15.369
</td>
<td style="text-align:right;">
1294.868
</td>
</tr>
<tr>
<td style="text-align:left;">
Average Model
</td>
<td style="text-align:right;">
1386.121
</td>
<td style="text-align:right;">
21.937
</td>
<td style="text-align:right;">
1836.357
</td>
</tr>
<tr>
<td style="text-align:left;">
Linear Regression Model
</td>
<td style="text-align:right;">
1929.022
</td>
<td style="text-align:right;">
32.561
</td>
<td style="text-align:right;">
2661.223
</td>
</tr>
</tbody>
</table>
</div>
<div id="real-performance---cross-validation" class="section level3">
<h3>Real Performance - Cross Validation</h3>
<pre class="r"><code>bind_rows( lm_result_cv, rf_result_cv, result_xg_cv) %&gt;% 
  arrange(RMSE) %&gt;% 
  kable() %&gt;% 
  kable_styling(full_width = F, bootstrap_options = c(&quot;striped&quot;, &quot;hover&quot;, &quot;condesend&quot;, &quot;responsive&quot;), html_font = &quot;Cambria&quot;)</code></pre>
<table class="table table-striped table-hover table-responsive" style="font-family: Cambria; width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
Model_name
</th>
<th style="text-align:left;">
MAE
</th>
<th style="text-align:left;">
MAPE
</th>
<th style="text-align:left;">
RMSE
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Xgboosting Model Cross Validation
</td>
<td style="text-align:left;">
1127.08 +/- 196.56
</td>
<td style="text-align:left;">
16.97 +/- 2.53
</td>
<td style="text-align:left;">
1531.06 +/- 244.39
</td>
</tr>
<tr>
<td style="text-align:left;">
Random Forest Model Cross Validation
</td>
<td style="text-align:left;">
1159.87 +/- 380
</td>
<td style="text-align:left;">
17.61 +/- 5.83
</td>
<td style="text-align:left;">
1611.5 +/- 504.44
</td>
</tr>
<tr>
<td style="text-align:left;">
Linear Regression Model Cross Validation
</td>
<td style="text-align:left;">
2120.97 +/- 252.78
</td>
<td style="text-align:left;">
33.16 +/- 3.15
</td>
<td style="text-align:left;">
2914.3 +/- 429.76
</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="hyperparameter-fine-tuning" class="section level1">
<h1>HYPERPARAMETER FINE TUNING</h1>
<div id="creating-parameter-grid" class="section level2">
<h2>Creating parameter grid</h2>
<pre class="r"><code>#xgb_spec &lt;- boost_tree(
#  trees = 1000, 
#  tree_depth = tune(), min_n = tune(), 
#  loss_reduction = tune(),                     
#  sample_size = tune(), mtry = tune(),         
#  learn_rate = tune(),                         
#) %&gt;% 
#  set_engine(&quot;xgboost&quot;) %&gt;% 
#  set_mode(&quot;regression&quot;)


#xgb_grid &lt;- grid_latin_hypercube(
  
  
#  tree_depth(),
#  min_n(),
#  loss_reduction(),
#  sample_size = sample_prop(),
#  finalize(mtry(), data_train),
#  learn_rate(),
#  size = 10
#)</code></pre>
</div>
<div id="tuning-xgboost-model" class="section level2">
<h2>Tuning Xgboost Model</h2>
<pre class="r"><code>#xgb_wf &lt;- workflow() %&gt;%
#  add_formula(sales ~ .) %&gt;%
#  add_model(xgb_spec)#

#set.seed(234)

#all_cores &lt;- parallel::detectCores(logical = FALSE)


#cl &lt;- makePSOCKcluster(all_cores - 1)
#registerDoParallel(cl)


#xgb_res &lt;- tune_grid(
#  xgb_wf,
#  resamples = cv,
#  grid = xgb_grid,metrics = mt,
#  control = control_grid(save_pred = TRUE)
#)</code></pre>
</div>
<div id="results-and-metrics" class="section level2">
<h2>Results and Metrics</h2>
<pre class="r"><code>#xgb_res&lt;- readRDS(&quot;Resultados_Modelos/xgb_res.rds&quot;)

#xgb_res %&gt;%
#  collect_metrics() %&gt;%
#  filter(.metric == &quot;rmse&quot;) %&gt;%
#  select(mean, mtry:sample_size) %&gt;%
#  pivot_longer(mtry:sample_size,
#               values_to = &quot;value&quot;,
#               names_to = &quot;parameter&quot;
#  ) %&gt;%
#  ggplot(aes(value, mean, color = parameter)) +
#  geom_point(alpha = 0.8, show.legend = FALSE) +
#  facet_wrap(~parameter, scales = &quot;free_x&quot;) +
#  labs(x = NULL, y = &quot;rmse&quot;)</code></pre>
</div>
<div id="viewing-parameters-for-rmse-metric" class="section level2">
<h2>Viewing parameters for RMSE metric</h2>
<pre class="r"><code>#best_rmse &lt;- select_best(xgb_res, &quot;rmse&quot;)
#best_rmse</code></pre>
</div>
<div id="encapsulating-the-final-parameters" class="section level2">
<h2>Encapsulating the final parameters</h2>
<pre class="r"><code>#final_xgb &lt;- finalize_workflow(
#  xgb_wf,
#  best_rmse
#)

#final_xgb</code></pre>
<pre class="r"><code>#all_cores &lt;- parallel::detectCores(logical = FALSE)


#cl &lt;- makePSOCKcluster(all_cores - 1)
#registerDoParallel(cl)

#final_res &lt;- last_fit(final_xgb, data_split, metrics = mt)


#saveRDS(final_res,&quot;Resultados_Modelos/final_res.rds&quot;)

#final_res &lt;- readRDS(&quot;Resultados_Modelos/final_res.rds&quot;)

#collect_metrics(final_res)</code></pre>
</div>
<div id="final-model" class="section level2">
<h2>Final Model</h2>
<pre class="r"><code># Create Final Model
#xg &lt;-
#  boost_tree(trees = 3000, 
#             tree_depth = 5, 
#             min_n = 3, 
#             sample_size = 0.7, 
#             learn_rate = 0.03, 
#             mtry = 7, 
#             loss_reduction = 0.03) %&gt;% 
#  set_engine(&quot;xgboost&quot;) %&gt;% 
#  set_mode(&quot;regression&quot;)</code></pre>
</div>
<div id="viewing-the-results-of-the-final-model" class="section level2">
<h2>Viewing the results of the final model</h2>
<pre class="r"><code>#all_cores &lt;- parallel::detectCores(logical = FALSE)


#cl &lt;- makePSOCKcluster(all_cores - 1)
#registerDoParallel(cl)

#xg_fit &lt;- xg %&gt;%
  #fit(sales ~ ., data = data_train)

#saveRDS(xg_fit,&quot;Resultados_Modelos/xg_fit_final.rds&quot;)

xg_fit_final &lt;- readRDS(&quot;/home/renato/repos/Rossmann/inst/Resultados_Modelos/xg_fit_final.rds&quot;)

# Preditions
#xg_pred &lt;- xg_fit %&gt;% 
#  predict(data_test) %&gt;% 
#  bind_cols(data_test$sales) %&gt;% 
#  rename(predictions = &quot;.pred&quot;, actual = &quot;...2&quot;)

#saveRDS(xg_pred,&quot;Resultados_Modelos/xg_pred_final.rds&quot;)

xg_pred_final &lt;- readRDS(&quot;/home/renato/repos/Rossmann/inst/Resultados_Modelos/xg_pred_final.rds&quot;)

# Evaluate
xg_result_final &lt;- ml_error(&quot;Xgboosting Final Model&quot;,xg_pred_final)

xg_result_final %&gt;% 
   kable() %&gt;% 
   kable_styling(full_width = F, bootstrap_options = c(&quot;striped&quot;, &quot;hover&quot;, &quot;condesend&quot;, &quot;responsive&quot;), html_font = &quot;Cambria&quot;)</code></pre>
<table class="table table-striped table-hover table-responsive" style="font-family: Cambria; width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
Model_Name
</th>
<th style="text-align:right;">
MAE
</th>
<th style="text-align:right;">
MAPE
</th>
<th style="text-align:right;">
RMSE
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Xgboosting Final Model
</td>
<td style="text-align:right;">
848.912
</td>
<td style="text-align:right;">
13.49
</td>
<td style="text-align:right;">
1176.609
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="business-error-interpretation-and-translation" class="section level1">
<h1>Business Error Interpretation and Translation</h1>
<pre class="r"><code>df7 &lt;- data_test

df7$predictions &lt;- xg_pred_final$predictions</code></pre>
<div id="business-performance" class="section level2">
<h2>Business Performance</h2>
<pre class="r"><code># Total estimated revenue per store.
df71 &lt;- df7 %&gt;% 
  group_by(store) %&gt;% 
  summarise(predictions = sum(predictions), .groups=&quot;drop&quot;)

# Mean absolute error and Mean absolute percentage error per store
df72 &lt;- df7 %&gt;%
  group_by(store) %&gt;%
  summarise(mae= Metrics::mae(sales, predictions),
            mape = Metrics::mape(sales, predictions)*100, .groups=&quot;drop&quot;)

# Merging total forecasted revenue with errors
df73 &lt;- df71 %&gt;% 
  inner_join(df72, by=&quot;store&quot;)

# Creating the best and worst scenario
df73 &lt;- df73 %&gt;% 
  mutate(worst_scenario = predictions - mae,
         best_scenario = predictions + mae) %&gt;% 
  select(store, predictions, worst_scenario, best_scenario, mae, mape) %&gt;% 
  arrange(-mape)

rmarkdown::paged_table(head(df73))</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["store"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["predictions"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["worst_scenario"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["best_scenario"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["mae"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["mape"],"name":[6],"type":["dbl"],"align":["right"]}],"data":[{"1":"292","2":"107308.9","3":"103784.1","4":"110833.7","5":"3524.819","6":"66.69768"},{"1":"841","2":"138327.6","3":"136826.6","4":"139828.6","5":"1501.025","6":"54.04994"},{"1":"970","2":"151135.6","3":"149684.5","4":"152586.7","5":"1451.114","6":"53.48614"},{"1":"902","2":"218610.6","3":"216521.4","4":"220699.8","5":"2089.183","6":"52.03026"},{"1":"909","2":"215542.8","3":"207614.1","4":"223471.5","5":"7928.738","6":"51.81164"},{"1":"198","2":"135339.7","3":"134334.4","4":"136345.0","5":"1005.265","6":"47.67507"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<pre class="r"><code># Creating 2 classes to better visualize where the model made predictions more easily and others more difficult.
df73 &lt;- df73 %&gt;% 
  mutate(difficulty = ifelse(mape &lt;= 30,&quot;normal_pred&quot;, &quot;hard_pred&quot;))

# Creating scatter plot store vs map
difficult_pred &lt;- df73 %&gt;% 
  ggplot(aes(store, mape)) + geom_point(aes(shape= difficulty ,col= difficulty), size=2.5, alpha=0.4)+ scale_y_continuous(breaks = seq(0,70,10))+
  scale_shape_manual(values=c(10, 16))+
  scale_x_continuous(breaks = seq(0,1500, 100))+
  labs(title= &quot;store vs mape&quot;)+
  theme(plot.title = element_text(hjust = 0.5, size = 18))

# Transforming into plotly.
ggplotly(difficult_pred)</code></pre>
<div id="htmlwidget-1" style="width:1248px;height:576px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-1">{"x":{"data":[{"x":[292,841,970,902,909,198,543,286,876,839,170,972,675,749,642,816,483,488,435,425,956,770,899,1014,786,334,958,734,473,330,325,563],"y":[66.6976842535783,54.0499370001832,53.4861394599804,52.0302608995038,51.8116414866736,47.6750677412723,45.7701174527064,41.021078317916,40.9887649814809,40.887937292431,40.8661413041683,40.6721541375855,40.5720435798525,40.1201021812117,39.9767194428697,37.475598692545,37.2221315195539,36.9042197523985,36.7971218493969,36.1906102570349,35.2593496224208,34.2441794633071,33.4682091229884,33.0882930010006,32.6234132943394,32.3937549132707,31.370537094817,30.8516514947136,30.8226650541993,30.6762929607339,30.3990349224401,30.3220051151827],"text":["difficulty: hard_pred<br />difficulty: hard_pred<br />store:  292<br />mape: 66.697684","difficulty: hard_pred<br />difficulty: hard_pred<br />store:  841<br />mape: 54.049937","difficulty: hard_pred<br />difficulty: hard_pred<br />store:  970<br />mape: 53.486139","difficulty: hard_pred<br />difficulty: hard_pred<br />store:  902<br />mape: 52.030261","difficulty: hard_pred<br />difficulty: hard_pred<br />store:  909<br />mape: 51.811641","difficulty: hard_pred<br />difficulty: hard_pred<br />store:  198<br />mape: 47.675068","difficulty: hard_pred<br />difficulty: hard_pred<br />store:  543<br />mape: 45.770117","difficulty: hard_pred<br />difficulty: hard_pred<br />store:  286<br />mape: 41.021078","difficulty: hard_pred<br />difficulty: hard_pred<br />store:  876<br />mape: 40.988765","difficulty: hard_pred<br />difficulty: hard_pred<br />store:  839<br />mape: 40.887937","difficulty: hard_pred<br />difficulty: hard_pred<br />store:  170<br />mape: 40.866141","difficulty: hard_pred<br />difficulty: hard_pred<br />store:  972<br />mape: 40.672154","difficulty: hard_pred<br />difficulty: hard_pred<br />store:  675<br />mape: 40.572044","difficulty: hard_pred<br />difficulty: hard_pred<br />store:  749<br />mape: 40.120102","difficulty: hard_pred<br />difficulty: hard_pred<br />store:  642<br />mape: 39.976719","difficulty: hard_pred<br />difficulty: hard_pred<br />store:  816<br />mape: 37.475599","difficulty: hard_pred<br />difficulty: hard_pred<br />store:  483<br />mape: 37.222132","difficulty: hard_pred<br />difficulty: hard_pred<br />store:  488<br />mape: 36.904220","difficulty: hard_pred<br />difficulty: hard_pred<br />store:  435<br />mape: 36.797122","difficulty: hard_pred<br />difficulty: hard_pred<br />store:  425<br />mape: 36.190610","difficulty: hard_pred<br />difficulty: hard_pred<br />store:  956<br />mape: 35.259350","difficulty: hard_pred<br />difficulty: hard_pred<br />store:  770<br />mape: 34.244179","difficulty: hard_pred<br />difficulty: hard_pred<br />store:  899<br />mape: 33.468209","difficulty: hard_pred<br />difficulty: hard_pred<br />store: 1014<br />mape: 33.088293","difficulty: hard_pred<br />difficulty: hard_pred<br />store:  786<br />mape: 32.623413","difficulty: hard_pred<br />difficulty: hard_pred<br />store:  334<br />mape: 32.393755","difficulty: hard_pred<br />difficulty: hard_pred<br />store:  958<br />mape: 31.370537","difficulty: hard_pred<br />difficulty: hard_pred<br />store:  734<br />mape: 30.851651","difficulty: hard_pred<br />difficulty: hard_pred<br />store:  473<br />mape: 30.822665","difficulty: hard_pred<br />difficulty: hard_pred<br />store:  330<br />mape: 30.676293","difficulty: hard_pred<br />difficulty: hard_pred<br />store:  325<br />mape: 30.399035","difficulty: hard_pred<br />difficulty: hard_pred<br />store:  563<br />mape: 30.322005"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":0.4,"size":9.4488188976378,"symbol":"circle-cross-open","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"hard_pred","legendgroup":"hard_pred","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[717,307,575,324,559,446,794,83,703,657,881,59,271,1029,945,607,208,711,165,266,710,924,828,800,550,133,789,897,345,736,40,447,685,688,257,596,153,263,630,461,751,531,366,48,534,302,218,837,819,505,558,254,530,192,1012,1073,641,581,782,501,113,177,193,898,117,654,1042,908,407,395,578,219,332,269,1086,639,773,285,612,1056,852,373,225,1013,103,30,401,811,156,74,121,695,750,452,142,1076,1035,244,96,422,805,840,176,274,992,874,210,628,952,873,977,702,636,169,514,719,518,520,476,988,820,463,931,649,23,693,656,124,183,371,569,592,1034,1038,88,812,136,538,634,310,91,709,617,1049,573,754,715,475,468,991,681,253,375,918,270,836,713,825,367,798,212,684,276,1063,570,1045,1027,237,299,963,391,256,905,60,921,8,437,405,861,1032,194,126,735,1069,610,1003,1088,279,152,889,548,1011,235,462,933,1017,149,585,700,174,663,957,131,322,658,762,231,440,567,987,86,315,608,427,994,619,554,164,73,132,875,268,1066,669,429,767,939,923,844,845,772,484,454,1081,983,1094,1109,1107,428,594,1090,28,20,417,916,1111,998,980,996,851,947,701,557,623,306,347,384,1019,779,466,883,185,743,966,780,247,590,186,301,57,732,854,903,549,1068,258,359,722,925,236,954,127,781,1077,728,379,93,904,686,201,438,869,597,1112,44,1021,633,160,803,1037,45,601,827,13,139,760,328,1030,486,677,17,1039,123,443,560,1104,745,288,240,41,727,480,1095,680,456,248,577,660,181,385,885,458,10,552,1044,561,842,1062,455,824,460,613,1078,629,393,1023,1009,209,662,27,78,232,758,130,102,620,919,646,692,436,134,1074,267,632,43,335,114,776,997,888,984,68,445,850,420,138,1065,1047,969,167,419,547,993,804,386,793,666,539,52,265,737,410,706,986,485,97,110,6,220,914,317,516,55,624,166,294,637,450,912,553,1084,858,584,690,211,58,915,821,289,879,364,809,877,478,999,412,871,141,260,402,46,261,509,759,524,635,653,291,392,807,716,75,863,953,659,206,72,432,238,566,245,976,752,61,611,511,122,730,609,217,846,337,967,943,333,137,249,421,764,926,572,351,631,589,118,664,416,51,536,864,583,339,196,604,1082,971,1000,1036,35,778,188,448,791,521,234,163,1098,362,724,295,1057,830,314,725,526,740,318,155,785,65,459,712,500,848,1108,867,1016,503,665,1028,336,284,895,1001,707,277,1083,591,404,598,671,627,215,1022,544,36,112,309,338,368,32,625,859,1106,144,678,182,442,11,49,305,683,326,39,474,910,128,507,312,670,810,582,1085,341,282,1061,853,857,890,940,973,90,1041,190,453,698,120,964,792,790,568,679,892,1051,444,357,22,184,865,125,62,907,587,661,930,161,413,283,424,38,329,1026,705,469,223,946,784,331,87,107,941,829,434,451,242,369,1005,313,66,522,847,928,293,148,647,489,753,965,556,766,835,1099,5,200,510,579,822,978,929,774,300,813,777,817,464,551,614,870,541,622,158,959,18,457,408,1110,913,399,1031,50,644,533,1058,106,878,426,365,406,574,691,14,938,886,1080,699,949,1113,689,221,1079,922,891,71,178,179,714,400,418,640,82,396,555,723,645,823,250,801,739,896,1075,98,696,540,729,104,472,411,479,721,571,278,16,33,63,494,1020,595,768,1072,1004,350,655,761,985,80,119,382,115,545,99,1043,951,361,481,605,191,498,626,720,85,101,433,1091,927,172,21,199,409,1033,24,360,880,143,105,203,960,1054,29,243,1010,831,900,56,37,796,348,381,535,843,968,296,638,942,818,676,802,756,344,1006,403,81,765,741,884,989,937,517,227,327,320,380,342,353,241,606,1100,146,423,372,389,297,935,787,1092,537,224,1093,12,868,576,502,387,95,621,54,674,449,108,175,932,979,303,542,482,343,374,1048,901,67,1050,390,982,708,1002,397,833,414,783,795,204,239,441,564,89,974,519,593,230,202,168,205,356,42,262,512,651,378,222,79,808,173,9,76,430,135,602,157,195,495,1,1024,308,546,834,746,26,1087,398,648,1103,69,100,467,162,2,586,77,1115,3,415,894,771,955,252,744,352,213,25,319,493,682,264,718,527,936,1070,618,806,838,214,7,862,797,961,304,588,673,70,893,151,159,349,1067,116,668,226,504,944,917,616,599,506,19,275,603,687,111,147,826,1105,298,1040,355,233,856,394,757,465,290,763,1060,650,906,187,150,281,1046,962,321,580,491,990,370,815,975,860,832,354,216,934,4,513,1071,376,866,31,755,47,652,92,251,340,872,64,1102,882,981,948,814,471,1015,515,849,508,477,788,109,697,171,738,499,15,346,316,496,1007,140,377,1018,470,643,950,1114,887,1053,525,731,775,1059,189,748,94,1052,704,694,180,1055,431,769,154,1008,53,490,34,920,145,129,363,207,1064,726,255,439,529,383,911,799,855,1025,532,747,272,1101,667,1096,197,246,280,287,733,565,388,228,358,995,562,487,311,492,615,672,528,497,1089,600,229,273,1097,84,742,323,523,259],"y":[29.8342548870608,29.773703384404,29.4759981384122,29.3398881699399,28.8179624729436,28.1185406324698,28.0830389141372,27.7356730814629,27.4773464407585,27.3275081414095,27.2318045006308,27.1450395055906,27.0245410957626,26.9506122955905,26.6741779595924,26.3692008405089,26.1696091648389,26.1592316605143,26.0877718598139,25.637023681007,25.4618893135144,25.4101067460965,25.3451765294398,25.1917411265245,25.1665563504177,25.1440040686487,25.0753179422996,24.973151215091,24.8637620625033,24.7800904059187,24.7481515734203,24.7345112519783,24.6877867911598,24.2929242476285,24.0904307928794,23.9316024038532,23.6993606635907,23.6416060328645,23.5581144077971,23.1820862961102,23.1820500893418,23.0387889551489,22.9772708123885,22.9609166449732,22.9416944462249,22.7359865124643,22.6587334992908,22.4800687995222,22.3460517897845,22.2858100940813,22.073459188082,22.0527331271661,21.9677892958581,21.6954053328387,21.6043951609382,21.4918874198699,21.4297291523194,21.2904151678126,21.2387612471563,21.0935149425772,21.0714169658457,20.8975294428642,20.8917660511664,20.8548612575946,20.8095156261298,20.7600635565842,20.6660865435268,20.6424762008688,20.6423263082214,20.5664411666555,20.5593026621323,20.4832199757371,20.4420388670021,20.4161926635807,20.4042492244405,20.3413684899146,20.2426230014117,20.2119557363967,20.1854403369325,20.1434335489563,19.960794563138,19.8865958719606,19.8258375613322,19.8130371218429,19.7756624132139,19.7627663323736,19.7325163566693,19.716263977529,19.6562043688067,19.6357274711718,19.5930417915841,19.57680590811,19.5730804479157,19.4920502355722,19.4564158075024,19.360296588687,19.3565365353472,19.3458733832372,19.2886102570045,19.2821781135025,19.2387250731273,19.2177636965866,19.1125958192467,19.0680698192874,19.0467549108997,19.0276967641758,19.0190953209047,18.9593640318106,18.9332561609182,18.8876892559786,18.8335174108696,18.824132613283,18.810419911508,18.8010720039805,18.7716251250705,18.7190886635611,18.7188046212296,18.6677418513905,18.6602459716917,18.6345488118493,18.6040252265943,18.5765132617592,18.5754654267584,18.542184868973,18.5317499757826,18.522081263116,18.4732962755812,18.4126453737711,18.3946184908029,18.3765878560165,18.3299308784404,18.3157141801424,18.2869523161783,18.2133956855963,18.1900301221827,18.1273331598092,18.0695744000481,17.9974621798804,17.9700339320639,17.9041743163574,17.888230002738,17.8188160848368,17.7474422123293,17.7428190711676,17.7220366190905,17.7199790289755,17.7186451741952,17.7065341690329,17.68862092054,17.6724630002955,17.6664002312536,17.6633688585728,17.6550478712827,17.6531461759065,17.6444926417235,17.6032955041886,17.5994928194189,17.5708162797065,17.5569900295144,17.5526161263153,17.548269874463,17.5189204458622,17.4075819111486,17.3811693244748,17.3341855389426,17.2712330621972,17.2507449358966,17.2419704022954,17.2244118680606,17.2013601411176,17.1840127784809,17.1838069628588,17.1438471713403,17.1098672598105,17.0402984536445,17.0067928117619,16.9524128689649,16.9487953478289,16.9119955477508,16.8432992515106,16.8191416787253,16.8119584083509,16.8062008090252,16.800088894862,16.7795188817878,16.732818348704,16.7059947905782,16.6902061176242,16.6647511597849,16.6595958111807,16.6492764690424,16.6408443606626,16.5599196513682,16.5393647893365,16.5087401758801,16.5018809518736,16.487488030013,16.4843108379068,16.3850662526576,16.3322865242555,16.3189764912348,16.3188885000466,16.2868071352649,16.2177512067767,16.2075868320781,16.1960596302447,16.194948478512,16.170334325484,16.1519608727753,16.1045491321259,16.0556873398199,16.0445642932643,16.039580782701,16.02427529346,15.9399874339528,15.9302102152489,15.9165339358715,15.9122063457953,15.8968845888271,15.8922658848184,15.8534521886666,15.8509666841548,15.8336690672366,15.8200126497225,15.8174976277828,15.8144161569062,15.7954439489694,15.7697932591149,15.761893384822,15.729954108702,15.6481536287747,15.6438286921555,15.6175436954745,15.6054552487444,15.6018473728989,15.5960920131545,15.587986484205,15.5829696519909,15.5820750502649,15.5769658853493,15.5605202496749,15.5163261123326,15.4911492155078,15.485474653642,15.4749154516484,15.4257917708784,15.4018161685578,15.3934753364072,15.391203681664,15.3905528122804,15.3574925291868,15.3202881821378,15.3156812789104,15.3118972537574,15.307943684758,15.3070630364108,15.2944923985062,15.2609561800489,15.1740775968015,15.1677886560398,15.1658834540652,15.1482077631478,15.1132174206878,15.0947369005294,15.0725086506815,15.0703140526355,15.0599009352328,15.0354015744486,15.0109434517228,14.98863092222,14.9837044652516,14.9766457387995,14.9572454670638,14.9548990106494,14.9265005077901,14.9122348836434,14.8869723177476,14.8538822444677,14.8424400830935,14.8388947394183,14.7822134707345,14.7527974584347,14.7325887803801,14.7229578619101,14.7180977572711,14.71016646919,14.6829090762616,14.6793323962537,14.6412977702763,14.6105681300735,14.5964549117445,14.5834466150747,14.5204168614605,14.5015116814546,14.4831010670126,14.4696928321042,14.4553843678619,14.4536388597717,14.4534063568191,14.4366272344242,14.4255465205183,14.4124462013731,14.3904379568418,14.3691156814673,14.3529267367797,14.3237591140147,14.3167124938183,14.3068554847405,14.3026761522897,14.3026623869474,14.2716354696332,14.2643614234983,14.2496345827633,14.2316747599984,14.2266257616278,14.2244537540218,14.2058744828015,14.1947654520543,14.1888858905016,14.1635711156263,14.0901609109359,14.0728986837242,14.0451052841571,14.0389964655399,14.0186315981952,14.0167005766105,14.0139070290233,14.0032714209032,14.0007680813348,13.9830861644286,13.9826562501358,13.9821805701747,13.9724527264052,13.9698205665006,13.9493053161077,13.934263137226,13.9281237948921,13.8936064310566,13.8740868394225,13.8637992997897,13.8599073152823,13.8471027490033,13.8456292222064,13.831791920131,13.8256447053506,13.8224185773845,13.810146777179,13.8074285049704,13.8008719459385,13.7966064448163,13.7960632381568,13.7945610484441,13.7891968948359,13.7412334285317,13.6919387699498,13.6899264976493,13.6694621612498,13.6648824483082,13.6640314149128,13.6599198454423,13.6426033909395,13.6415000020217,13.6277202745251,13.5904662973833,13.5835353257387,13.5637831165973,13.5601431475887,13.5586145652594,13.5561158082262,13.55469772828,13.5255317236848,13.4977316982105,13.4919857046241,13.4901989071843,13.487211841816,13.476936093788,13.4706669333361,13.4576836232029,13.4571719968488,13.428583343558,13.381296513482,13.3612403695476,13.3546895666927,13.3490702609585,13.3270009556733,13.3242610076643,13.3020709710041,13.2996024225623,13.2847798970957,13.2839760417399,13.2762499757062,13.259449013819,13.250073028966,13.2461349772713,13.1927240959548,13.1726251720663,13.1502827528834,13.1160340174546,13.1094041637538,13.0756053171346,13.0727444899388,13.0295475625747,13.021691841987,13.0092438160029,13.0040205721822,12.9936749418257,12.9705401767513,12.9647964749588,12.9592642298388,12.9551224815218,12.9535750533928,12.9497774207027,12.9453457436251,12.9382431446952,12.9195226958428,12.9189918744307,12.9096993151416,12.8951299065315,12.8947606832455,12.8749016292261,12.8679322815701,12.8611024368731,12.8201262335266,12.8064591068219,12.8015969008838,12.7969986048591,12.793795413681,12.7935533403156,12.7833001658231,12.7512987626453,12.749297397622,12.7398722300712,12.7392486441387,12.7321553370205,12.731304776957,12.7261366095089,12.7150313129955,12.7119770608096,12.7097225443731,12.7071535597212,12.703797282238,12.6972595479553,12.690482384731,12.6772576484556,12.6323772950925,12.6321343850306,12.6296806136062,12.6253499151255,12.6205720171606,12.6010178274578,12.5882164174356,12.5822036127765,12.5745669105192,12.5669988957856,12.5639112825345,12.561888809419,12.5589769989362,12.5539199308893,12.5504695631501,12.5414238085296,12.5392341518061,12.5287524206556,12.5200907339085,12.4976622185832,12.4967728115435,12.4963873887176,12.4894768883417,12.4820261669619,12.4649762027152,12.4534598355425,12.4456212255435,12.4416481031035,12.4407703611975,12.4373213849142,12.4288406385824,12.4152280702352,12.4138154579215,12.4101582104184,12.3690500275682,12.3533999983069,12.3434215138599,12.3402809909184,12.3334745520813,12.3272368290858,12.3182596815731,12.3107213698422,12.3073697134622,12.2968396817867,12.2880407040677,12.2864885704874,12.2812551795909,12.2628589049244,12.2623252706027,12.2613118925728,12.2333081135477,12.2173308566252,12.2104824758669,12.207835420861,12.2027004210021,12.19666676,12.1945291738908,12.1901059111099,12.1896744686754,12.1831402359105,12.1677630064499,12.164808108075,12.1577439853852,12.1510223567127,12.1151407274891,12.0849430218311,12.079125593687,12.0713829613665,12.0653562398078,12.04911022426,12.0460621886082,12.0439569029545,12.0383719588163,12.0248047049586,11.9989201915166,11.9898358968964,11.9880860691991,11.9760765482967,11.971050734842,11.9291109551859,11.9062613787231,11.9032854543851,11.897828568592,11.8856135243251,11.8840434213781,11.8800339000793,11.8749018306989,11.8713828725508,11.8528803489128,11.8523110634961,11.8508998513298,11.8344958942911,11.8273783971962,11.8180491834597,11.8134917467236,11.8076107067183,11.8056777612902,11.8056242001703,11.7982557982667,11.7912876366379,11.7909759513742,11.785048873671,11.7499240868641,11.7487232983971,11.7459763060054,11.7347345099562,11.7130689947212,11.7074900465226,11.7028017873052,11.6980208454409,11.6849272749049,11.6806170524481,11.6630593926927,11.661333889506,11.6585009036857,11.6579952307912,11.6546749683078,11.6500874146608,11.6403506854682,11.6292970747875,11.5981356955553,11.5948240259396,11.5924897129596,11.5834383073426,11.5638819857664,11.5576203034101,11.5567467170118,11.5422176773137,11.5406021110124,11.5319908734101,11.5257511833139,11.522919036099,11.5173815212833,11.4778671022785,11.4767114490785,11.4705207168618,11.4645711794939,11.4504233995972,11.4470037382644,11.4347570607512,11.4313128154963,11.4277313516067,11.4269617413844,11.4096096266647,11.4084616484209,11.3962388119356,11.3924977145995,11.386933264562,11.3702973739158,11.3676845798884,11.3430575668041,11.3409994958235,11.3325943427533,11.325529426386,11.3205755120184,11.3168673006056,11.3089015215991,11.3045968703112,11.2913439591858,11.2827205229663,11.2781428141919,11.2703046088159,11.2629809458606,11.2531351132242,11.2475384970857,11.2369219160231,11.2310434369212,11.215054242593,11.1841021238035,11.1748010018045,11.1623622996243,11.1260976726298,11.1191403882139,11.1112207327746,11.098714095622,11.0942023579916,11.081255846785,11.0752198354658,11.0681880624279,11.0673065000168,11.0624416732823,11.0573235322023,11.0450559310577,11.0392771495017,11.0194925880876,11.0154428542766,10.9997943217428,10.9986006734302,10.9913922188011,10.9893297389063,10.9794629223256,10.9750356700434,10.9548174354347,10.9504103160646,10.9388239376638,10.9241551988237,10.9218996756777,10.917914239261,10.9146850180411,10.893359086168,10.8921764369527,10.8899097656501,10.8780156682528,10.8691882216536,10.8681698578085,10.8633481584062,10.8414085198195,10.8333004358784,10.824362285877,10.8240569051351,10.8134921156835,10.8090437424018,10.808928103991,10.8073294942849,10.7876820952289,10.7802036167315,10.7719482860983,10.7647596301962,10.7590052270092,10.7475504540809,10.7371555182212,10.7240715573561,10.7239146033521,10.7142785219028,10.7056601263723,10.702956034505,10.6701363873361,10.6520349907483,10.6436800182096,10.6332775840699,10.6289100309438,10.6217299521977,10.6026647913688,10.577339194905,10.5463194907625,10.5447545812394,10.5418222002427,10.5252367948087,10.5032750482645,10.4943425556816,10.4818813023644,10.4780153465656,10.4706674791902,10.4117467400797,10.4016670062989,10.3926475433704,10.3876217770003,10.3829111137348,10.3758253836201,10.3634673788046,10.359666853626,10.3585678645676,10.3535758977756,10.3451379919016,10.3417601726163,10.3386201654127,10.3273643955501,10.3220977984671,10.3108024637136,10.3069949270564,10.3066485096367,10.2976403343972,10.2829818843332,10.2794945085277,10.266385699018,10.2458342862165,10.2294754229405,10.2252506478309,10.2222890440266,10.2147071287349,10.2130563571039,10.20597813349,10.1985900531992,10.1725951511376,10.168685993237,10.1632045080118,10.1612936284864,10.1223809551572,10.1189714146764,10.111878172044,10.1005476476398,10.0928848985804,10.0848052686678,10.0686072789837,10.0354849757394,10.0213534529567,10.0160900464182,10.0067521141418,10.004703758701,9.99822656852562,9.99415348421756,9.98558722229874,9.97852112017316,9.9757242930637,9.97132292925926,9.96585986207154,9.95575671988272,9.95498415219793,9.93934516048437,9.93862743174464,9.9283088058123,9.9073747619518,9.87943221613219,9.86166831300115,9.86153410111313,9.85386352632553,9.85270221319615,9.85235658134557,9.85016008254103,9.84729892869833,9.83678432670103,9.82593696131599,9.81909909812367,9.81582936528519,9.8143020612399,9.76133235914401,9.75958430144463,9.75755678099696,9.74659171852206,9.74356860324808,9.73643061691765,9.72797684283985,9.72605898982102,9.71050594947819,9.7054636221872,9.70349476257056,9.68696132644388,9.67921162260063,9.67479395908232,9.66614455763052,9.65836618600074,9.6570103597894,9.64908228314311,9.64146844629192,9.64050603463902,9.63691760930758,9.60183037081738,9.59317631133004,9.59231822523454,9.58734234183311,9.58201737181965,9.58188619400043,9.56714111630218,9.55849245206587,9.55645068950663,9.55528500133487,9.5018495475265,9.49836789307075,9.49131617441775,9.49110806793604,9.49024025617143,9.4881737572281,9.48629626384079,9.47847253801817,9.47302615754435,9.46876301340283,9.46636218136916,9.46361673505702,9.46066291827518,9.45527856025998,9.44993288909813,9.4286696890325,9.4000373989243,9.39876893362671,9.38732275639568,9.38606687713588,9.38579227057385,9.37235418740625,9.37107727514218,9.36108716811954,9.35364858208455,9.35238790119931,9.35109818505784,9.34483277143127,9.33554454818874,9.33498374392987,9.33475303265135,9.33292757672518,9.3301827298707,9.32273440812091,9.31167330097807,9.30873671265093,9.29954180393717,9.29890381395263,9.29602683191838,9.28020289747418,9.28007978556147,9.27136714625302,9.26553571323179,9.26425763239641,9.2584316871409,9.25463434233586,9.25462624263111,9.23936319906326,9.230033936643,9.22798862546643,9.21494802484147,9.20949490791643,9.20663167660293,9.20090536233766,9.19745439643839,9.18235109807264,9.17335182996969,9.14775085857869,9.14736060294233,9.11727342457794,9.1119195183825,9.10792623162542,9.09854290726743,9.07990710795071,9.07886168035098,9.07284332142762,9.06934343051269,9.0631063199559,9.05318228168411,9.04496010169638,9.04154275999587,9.04018996569327,9.03780170694978,9.03621425342082,9.02247459625023,9.01953141053446,9.01353450858821,9.00596727688526,9.00036311965433,8.99035275276399,8.99026365543381,8.98728333627594,8.98677482021038,8.98234820217809,8.97483890084761,8.96174467732075,8.95827943103575,8.95563930887705,8.92935958572613,8.92125274611741,8.92075985028927,8.91586139399695,8.91111680973684,8.89405988135328,8.88978734098404,8.88842916026625,8.88503885145549,8.88166811112846,8.87864177034735,8.8775458249281,8.87007136762784,8.86509827350456,8.86142073485959,8.8606912464514,8.85714368223241,8.85478436254311,8.8532896601687,8.85295877585208,8.83806083609397,8.83566619570169,8.82734420157427,8.81682412496222,8.79786134775267,8.78939644131175,8.77371478684208,8.77290766494333,8.77223282338677,8.77039944049204,8.76617508741985,8.7576042668862,8.75332225607268,8.74885927601516,8.74662262713293,8.73556848465945,8.7215062961045,8.72120193872091,8.71418900321039,8.71143749941121,8.70588066640632,8.69947089722568,8.69847502589884,8.69627712492301,8.69626373578574,8.69134963857492,8.66816704449913,8.66769518031735,8.66281894246181,8.6563304655068,8.65611922502566,8.65576633824865,8.64268471886138,8.64165861358576,8.62110579575934,8.61677551322656,8.61654736425333,8.59345353810063,8.58399434993256,8.58325605885481,8.58018749936281,8.56556138517747,8.5595051862894,8.54180559778348,8.50889306098862,8.50586622145713,8.50523121730363,8.49962866765258,8.49650893559002,8.49299506669791,8.48913914260854,8.48431912370694,8.47127077141602,8.46655431112213,8.46504561175567,8.45102739553525,8.42363354796475,8.41777775089684,8.41687281221527,8.39295751182213,8.37158352461003,8.37125980525455,8.36920894460995,8.35697706238577,8.35632956765874,8.35208830884981,8.31308999382293,8.30483630249541,8.29497127532804,8.28542626734802,8.28030187465615,8.25166450504489,8.23070573791984,8.23041578064651,8.22802096281292,8.22595690182457,8.22381142435758,8.21587932183441,8.21475978346629,8.18974678434766,8.1833961840076,8.17655572935038,8.15984880895542,8.1502799274102,8.14040755745705,8.14031851724794,8.13019862755441,8.12280176411837,8.11311226733265,8.07813710974288,8.07012752642496,8.06259920313307,8.05811342306922,8.05801324123683,8.02796265998548,8.02648960650189,8.01890380666899,8.01615157364612,7.99595138024397,7.99422814297107,7.98384672976934,7.98037651017053,7.96217680585795,7.94785873283279,7.94487143987571,7.90583426777404,7.90361126511562,7.86885287251155,7.84953181971114,7.83849423395812,7.83753640806627,7.82519454261714,7.81424623570091,7.8059927082365,7.80280879967032,7.78924111485976,7.78712383228911,7.78564572477371,7.77419858935531,7.76748773917014,7.76388970067791,7.70321538609015,7.7013213297527,7.67779928599894,7.67224192312836,7.65793172348187,7.64802816625502,7.61049450149471,7.55044869032322,7.50520741117243,7.48485121059547,7.47160580449062,7.44590357968698,7.44275734994599,7.4296134738611,7.41168131154962,7.40587795440931,7.3864696628544,7.38408582701941,7.3765202180713,7.31318821359438,7.29342054607989,7.27472985561445,7.23866989186992,7.23052323433272,7.22827723068788,7.21391494032911,7.2114423423539,7.17669648225501,7.17376930562915,7.17131676775398,7.12751545825969,7.11310433570342,7.10439782935903,7.09909795204296,7.03883739738033,7.01580451749302,6.99445589706182,6.98829755900164,6.96025032934997,6.95383002299507,6.85760637928065,6.82441663035711,6.81766419363457,6.80613334979481,6.80188446062113,6.75643364055225,6.72851867785067,6.67121028976106,6.63745734415483,6.60312352318019,6.5126638893937,6.49925796614508,6.48118246739634,6.47313414847566,6.37701526627339,6.35742363549881,6.3397312726422,6.27104399660072,6.18649501654474,6.06385234295098,5.82986133062778,5.70847564666412,5.62150382043521,5.13334910032121],"text":["difficulty: normal_pred<br />difficulty: normal_pred<br />store:  717<br />mape: 29.834255","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  307<br />mape: 29.773703","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  575<br />mape: 29.475998","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  324<br />mape: 29.339888","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  559<br />mape: 28.817962","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  446<br />mape: 28.118541","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  794<br />mape: 28.083039","difficulty: normal_pred<br />difficulty: normal_pred<br />store:   83<br />mape: 27.735673","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  703<br />mape: 27.477346","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  657<br />mape: 27.327508","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  881<br />mape: 27.231805","difficulty: normal_pred<br />difficulty: normal_pred<br />store:   59<br />mape: 27.145040","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  271<br />mape: 27.024541","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1029<br />mape: 26.950612","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  945<br />mape: 26.674178","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  607<br />mape: 26.369201","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  208<br />mape: 26.169609","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  711<br />mape: 26.159232","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  165<br />mape: 26.087772","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  266<br />mape: 25.637024","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  710<br />mape: 25.461889","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  924<br />mape: 25.410107","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  828<br />mape: 25.345177","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  800<br />mape: 25.191741","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  550<br />mape: 25.166556","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  133<br />mape: 25.144004","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  789<br />mape: 25.075318","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  897<br />mape: 24.973151","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  345<br />mape: 24.863762","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  736<br />mape: 24.780090","difficulty: normal_pred<br />difficulty: normal_pred<br />store:   40<br />mape: 24.748152","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  447<br />mape: 24.734511","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  685<br />mape: 24.687787","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  688<br />mape: 24.292924","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  257<br />mape: 24.090431","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  596<br />mape: 23.931602","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  153<br />mape: 23.699361","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  263<br />mape: 23.641606","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  630<br />mape: 23.558114","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  461<br />mape: 23.182086","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  751<br />mape: 23.182050","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  531<br />mape: 23.038789","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  366<br />mape: 22.977271","difficulty: normal_pred<br />difficulty: normal_pred<br />store:   48<br />mape: 22.960917","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  534<br />mape: 22.941694","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  302<br />mape: 22.735987","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  218<br />mape: 22.658733","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  837<br />mape: 22.480069","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  819<br />mape: 22.346052","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  505<br />mape: 22.285810","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  558<br />mape: 22.073459","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  254<br />mape: 22.052733","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  530<br />mape: 21.967789","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  192<br />mape: 21.695405","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1012<br />mape: 21.604395","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1073<br />mape: 21.491887","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  641<br />mape: 21.429729","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  581<br />mape: 21.290415","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  782<br />mape: 21.238761","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  501<br />mape: 21.093515","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  113<br />mape: 21.071417","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  177<br />mape: 20.897529","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  193<br />mape: 20.891766","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  898<br />mape: 20.854861","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  117<br />mape: 20.809516","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  654<br />mape: 20.760064","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1042<br />mape: 20.666087","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  908<br />mape: 20.642476","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  407<br />mape: 20.642326","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  395<br />mape: 20.566441","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  578<br />mape: 20.559303","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  219<br />mape: 20.483220","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  332<br />mape: 20.442039","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  269<br />mape: 20.416193","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1086<br />mape: 20.404249","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  639<br />mape: 20.341368","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  773<br />mape: 20.242623","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  285<br />mape: 20.211956","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  612<br />mape: 20.185440","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1056<br />mape: 20.143434","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  852<br />mape: 19.960795","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  373<br />mape: 19.886596","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  225<br />mape: 19.825838","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1013<br />mape: 19.813037","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  103<br />mape: 19.775662","difficulty: normal_pred<br />difficulty: normal_pred<br />store:   30<br />mape: 19.762766","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  401<br />mape: 19.732516","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  811<br />mape: 19.716264","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  156<br />mape: 19.656204","difficulty: normal_pred<br />difficulty: normal_pred<br />store:   74<br />mape: 19.635727","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  121<br />mape: 19.593042","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  695<br />mape: 19.576806","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  750<br />mape: 19.573080","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  452<br />mape: 19.492050","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  142<br />mape: 19.456416","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1076<br />mape: 19.360297","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1035<br />mape: 19.356537","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  244<br />mape: 19.345873","difficulty: normal_pred<br />difficulty: normal_pred<br />store:   96<br />mape: 19.288610","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  422<br />mape: 19.282178","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  805<br />mape: 19.238725","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  840<br />mape: 19.217764","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  176<br />mape: 19.112596","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  274<br />mape: 19.068070","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  992<br />mape: 19.046755","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  874<br />mape: 19.027697","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  210<br />mape: 19.019095","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  628<br />mape: 18.959364","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  952<br />mape: 18.933256","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  873<br />mape: 18.887689","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  977<br />mape: 18.833517","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  702<br />mape: 18.824133","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  636<br />mape: 18.810420","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  169<br />mape: 18.801072","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  514<br />mape: 18.771625","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  719<br />mape: 18.719089","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  518<br />mape: 18.718805","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  520<br />mape: 18.667742","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  476<br />mape: 18.660246","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  988<br />mape: 18.634549","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  820<br />mape: 18.604025","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  463<br />mape: 18.576513","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  931<br />mape: 18.575465","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  649<br />mape: 18.542185","difficulty: normal_pred<br />difficulty: normal_pred<br />store:   23<br />mape: 18.531750","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  693<br />mape: 18.522081","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  656<br />mape: 18.473296","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  124<br />mape: 18.412645","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  183<br />mape: 18.394618","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  371<br />mape: 18.376588","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  569<br />mape: 18.329931","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  592<br />mape: 18.315714","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1034<br />mape: 18.286952","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1038<br />mape: 18.213396","difficulty: normal_pred<br />difficulty: normal_pred<br />store:   88<br />mape: 18.190030","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  812<br />mape: 18.127333","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  136<br />mape: 18.069574","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  538<br />mape: 17.997462","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  634<br />mape: 17.970034","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  310<br />mape: 17.904174","difficulty: normal_pred<br />difficulty: normal_pred<br />store:   91<br />mape: 17.888230","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  709<br />mape: 17.818816","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  617<br />mape: 17.747442","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1049<br />mape: 17.742819","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  573<br />mape: 17.722037","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  754<br />mape: 17.719979","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  715<br />mape: 17.718645","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  475<br />mape: 17.706534","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  468<br />mape: 17.688621","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  991<br />mape: 17.672463","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  681<br />mape: 17.666400","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  253<br />mape: 17.663369","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  375<br />mape: 17.655048","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  918<br />mape: 17.653146","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  270<br />mape: 17.644493","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  836<br />mape: 17.603296","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  713<br />mape: 17.599493","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  825<br />mape: 17.570816","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  367<br />mape: 17.556990","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  798<br />mape: 17.552616","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  212<br />mape: 17.548270","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  684<br />mape: 17.518920","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  276<br />mape: 17.407582","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1063<br />mape: 17.381169","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  570<br />mape: 17.334186","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1045<br />mape: 17.271233","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1027<br />mape: 17.250745","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  237<br />mape: 17.241970","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  299<br />mape: 17.224412","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  963<br />mape: 17.201360","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  391<br />mape: 17.184013","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  256<br />mape: 17.183807","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  905<br />mape: 17.143847","difficulty: normal_pred<br />difficulty: normal_pred<br />store:   60<br />mape: 17.109867","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  921<br />mape: 17.040298","difficulty: normal_pred<br />difficulty: normal_pred<br />store:    8<br />mape: 17.006793","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  437<br />mape: 16.952413","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  405<br />mape: 16.948795","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  861<br />mape: 16.911996","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1032<br />mape: 16.843299","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  194<br />mape: 16.819142","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  126<br />mape: 16.811958","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  735<br />mape: 16.806201","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1069<br />mape: 16.800089","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  610<br />mape: 16.779519","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1003<br />mape: 16.732818","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1088<br />mape: 16.705995","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  279<br />mape: 16.690206","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  152<br />mape: 16.664751","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  889<br />mape: 16.659596","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  548<br />mape: 16.649276","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1011<br />mape: 16.640844","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  235<br />mape: 16.559920","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  462<br />mape: 16.539365","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  933<br />mape: 16.508740","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1017<br />mape: 16.501881","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  149<br />mape: 16.487488","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  585<br />mape: 16.484311","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  700<br />mape: 16.385066","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  174<br />mape: 16.332287","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  663<br />mape: 16.318976","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  957<br />mape: 16.318889","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  131<br />mape: 16.286807","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  322<br />mape: 16.217751","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  658<br />mape: 16.207587","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  762<br />mape: 16.196060","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  231<br />mape: 16.194948","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  440<br />mape: 16.170334","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  567<br />mape: 16.151961","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  987<br />mape: 16.104549","difficulty: normal_pred<br />difficulty: normal_pred<br />store:   86<br />mape: 16.055687","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  315<br />mape: 16.044564","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  608<br />mape: 16.039581","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  427<br />mape: 16.024275","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  994<br />mape: 15.939987","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  619<br />mape: 15.930210","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  554<br />mape: 15.916534","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  164<br />mape: 15.912206","difficulty: normal_pred<br />difficulty: normal_pred<br />store:   73<br />mape: 15.896885","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  132<br />mape: 15.892266","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  875<br />mape: 15.853452","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  268<br />mape: 15.850967","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1066<br />mape: 15.833669","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  669<br />mape: 15.820013","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  429<br />mape: 15.817498","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  767<br />mape: 15.814416","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  939<br />mape: 15.795444","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  923<br />mape: 15.769793","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  844<br />mape: 15.761893","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  845<br />mape: 15.729954","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  772<br />mape: 15.648154","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  484<br />mape: 15.643829","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  454<br />mape: 15.617544","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1081<br />mape: 15.605455","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  983<br />mape: 15.601847","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1094<br />mape: 15.596092","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1109<br />mape: 15.587986","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1107<br />mape: 15.582970","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  428<br />mape: 15.582075","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  594<br />mape: 15.576966","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1090<br />mape: 15.560520","difficulty: normal_pred<br />difficulty: normal_pred<br />store:   28<br />mape: 15.516326","difficulty: normal_pred<br />difficulty: normal_pred<br />store:   20<br />mape: 15.491149","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  417<br />mape: 15.485475","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  916<br />mape: 15.474915","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1111<br />mape: 15.425792","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  998<br />mape: 15.401816","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  980<br />mape: 15.393475","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  996<br />mape: 15.391204","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  851<br />mape: 15.390553","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  947<br />mape: 15.357493","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  701<br />mape: 15.320288","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  557<br />mape: 15.315681","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  623<br />mape: 15.311897","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  306<br />mape: 15.307944","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  347<br />mape: 15.307063","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  384<br />mape: 15.294492","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1019<br />mape: 15.260956","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  779<br />mape: 15.174078","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  466<br />mape: 15.167789","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  883<br />mape: 15.165883","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  185<br />mape: 15.148208","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  743<br />mape: 15.113217","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  966<br />mape: 15.094737","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  780<br />mape: 15.072509","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  247<br />mape: 15.070314","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  590<br />mape: 15.059901","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  186<br />mape: 15.035402","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  301<br />mape: 15.010943","difficulty: normal_pred<br />difficulty: normal_pred<br />store:   57<br />mape: 14.988631","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  732<br />mape: 14.983704","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  854<br />mape: 14.976646","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  903<br />mape: 14.957245","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  549<br />mape: 14.954899","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1068<br />mape: 14.926501","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  258<br />mape: 14.912235","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  359<br />mape: 14.886972","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  722<br />mape: 14.853882","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  925<br />mape: 14.842440","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  236<br />mape: 14.838895","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  954<br />mape: 14.782213","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  127<br />mape: 14.752797","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  781<br />mape: 14.732589","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1077<br />mape: 14.722958","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  728<br />mape: 14.718098","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  379<br />mape: 14.710166","difficulty: normal_pred<br />difficulty: normal_pred<br />store:   93<br />mape: 14.682909","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  904<br />mape: 14.679332","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  686<br />mape: 14.641298","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  201<br />mape: 14.610568","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  438<br />mape: 14.596455","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  869<br />mape: 14.583447","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  597<br />mape: 14.520417","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1112<br />mape: 14.501512","difficulty: normal_pred<br />difficulty: normal_pred<br />store:   44<br />mape: 14.483101","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1021<br />mape: 14.469693","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  633<br />mape: 14.455384","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  160<br />mape: 14.453639","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  803<br />mape: 14.453406","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1037<br />mape: 14.436627","difficulty: normal_pred<br />difficulty: normal_pred<br />store:   45<br />mape: 14.425547","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  601<br />mape: 14.412446","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  827<br />mape: 14.390438","difficulty: normal_pred<br />difficulty: normal_pred<br />store:   13<br />mape: 14.369116","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  139<br />mape: 14.352927","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  760<br />mape: 14.323759","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  328<br />mape: 14.316712","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1030<br />mape: 14.306855","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  486<br />mape: 14.302676","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  677<br />mape: 14.302662","difficulty: normal_pred<br />difficulty: normal_pred<br />store:   17<br />mape: 14.271635","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1039<br />mape: 14.264361","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  123<br />mape: 14.249635","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  443<br />mape: 14.231675","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  560<br />mape: 14.226626","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1104<br />mape: 14.224454","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  745<br />mape: 14.205874","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  288<br />mape: 14.194765","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  240<br />mape: 14.188886","difficulty: normal_pred<br />difficulty: normal_pred<br />store:   41<br />mape: 14.163571","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  727<br />mape: 14.090161","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  480<br />mape: 14.072899","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1095<br />mape: 14.045105","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  680<br />mape: 14.038996","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  456<br />mape: 14.018632","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  248<br />mape: 14.016701","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  577<br />mape: 14.013907","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  660<br />mape: 14.003271","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  181<br />mape: 14.000768","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  385<br />mape: 13.983086","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  885<br />mape: 13.982656","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  458<br />mape: 13.982181","difficulty: normal_pred<br />difficulty: normal_pred<br />store:   10<br />mape: 13.972453","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  552<br />mape: 13.969821","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1044<br />mape: 13.949305","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  561<br />mape: 13.934263","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  842<br />mape: 13.928124","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1062<br />mape: 13.893606","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  455<br />mape: 13.874087","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  824<br />mape: 13.863799","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  460<br />mape: 13.859907","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  613<br />mape: 13.847103","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1078<br />mape: 13.845629","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  629<br />mape: 13.831792","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  393<br />mape: 13.825645","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1023<br />mape: 13.822419","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1009<br />mape: 13.810147","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  209<br />mape: 13.807429","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  662<br />mape: 13.800872","difficulty: normal_pred<br />difficulty: normal_pred<br />store:   27<br />mape: 13.796606","difficulty: normal_pred<br />difficulty: normal_pred<br />store:   78<br />mape: 13.796063","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  232<br />mape: 13.794561","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  758<br />mape: 13.789197","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  130<br />mape: 13.741233","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  102<br />mape: 13.691939","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  620<br />mape: 13.689926","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  919<br />mape: 13.669462","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  646<br />mape: 13.664882","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  692<br />mape: 13.664031","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  436<br />mape: 13.659920","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  134<br />mape: 13.642603","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1074<br />mape: 13.641500","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  267<br />mape: 13.627720","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  632<br />mape: 13.590466","difficulty: normal_pred<br />difficulty: normal_pred<br />store:   43<br />mape: 13.583535","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  335<br />mape: 13.563783","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  114<br />mape: 13.560143","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  776<br />mape: 13.558615","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  997<br />mape: 13.556116","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  888<br />mape: 13.554698","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  984<br />mape: 13.525532","difficulty: normal_pred<br />difficulty: normal_pred<br />store:   68<br />mape: 13.497732","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  445<br />mape: 13.491986","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  850<br />mape: 13.490199","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  420<br />mape: 13.487212","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  138<br />mape: 13.476936","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1065<br />mape: 13.470667","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1047<br />mape: 13.457684","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  969<br />mape: 13.457172","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  167<br />mape: 13.428583","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  419<br />mape: 13.381297","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  547<br />mape: 13.361240","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  993<br />mape: 13.354690","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  804<br />mape: 13.349070","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  386<br />mape: 13.327001","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  793<br />mape: 13.324261","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  666<br />mape: 13.302071","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  539<br />mape: 13.299602","difficulty: normal_pred<br />difficulty: normal_pred<br />store:   52<br />mape: 13.284780","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  265<br />mape: 13.283976","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  737<br />mape: 13.276250","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  410<br />mape: 13.259449","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  706<br />mape: 13.250073","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  986<br />mape: 13.246135","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  485<br />mape: 13.192724","difficulty: normal_pred<br />difficulty: normal_pred<br />store:   97<br />mape: 13.172625","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  110<br />mape: 13.150283","difficulty: normal_pred<br />difficulty: normal_pred<br />store:    6<br />mape: 13.116034","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  220<br />mape: 13.109404","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  914<br />mape: 13.075605","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  317<br />mape: 13.072744","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  516<br />mape: 13.029548","difficulty: normal_pred<br />difficulty: normal_pred<br />store:   55<br />mape: 13.021692","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  624<br />mape: 13.009244","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  166<br />mape: 13.004021","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  294<br />mape: 12.993675","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  637<br />mape: 12.970540","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  450<br />mape: 12.964796","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  912<br />mape: 12.959264","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  553<br />mape: 12.955122","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1084<br />mape: 12.953575","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  858<br />mape: 12.949777","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  584<br />mape: 12.945346","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  690<br />mape: 12.938243","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  211<br />mape: 12.919523","difficulty: normal_pred<br />difficulty: normal_pred<br />store:   58<br />mape: 12.918992","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  915<br />mape: 12.909699","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  821<br />mape: 12.895130","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  289<br />mape: 12.894761","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  879<br />mape: 12.874902","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  364<br />mape: 12.867932","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  809<br />mape: 12.861102","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  877<br />mape: 12.820126","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  478<br />mape: 12.806459","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  999<br />mape: 12.801597","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  412<br />mape: 12.796999","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  871<br />mape: 12.793795","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  141<br />mape: 12.793553","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  260<br />mape: 12.783300","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  402<br />mape: 12.751299","difficulty: normal_pred<br />difficulty: normal_pred<br />store:   46<br />mape: 12.749297","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  261<br />mape: 12.739872","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  509<br />mape: 12.739249","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  759<br />mape: 12.732155","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  524<br />mape: 12.731305","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  635<br />mape: 12.726137","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  653<br />mape: 12.715031","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  291<br />mape: 12.711977","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  392<br />mape: 12.709723","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  807<br />mape: 12.707154","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  716<br />mape: 12.703797","difficulty: normal_pred<br />difficulty: normal_pred<br />store:   75<br />mape: 12.697260","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  863<br />mape: 12.690482","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  953<br />mape: 12.677258","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  659<br />mape: 12.632377","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  206<br />mape: 12.632134","difficulty: normal_pred<br />difficulty: normal_pred<br />store:   72<br />mape: 12.629681","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  432<br />mape: 12.625350","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  238<br />mape: 12.620572","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  566<br />mape: 12.601018","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  245<br />mape: 12.588216","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  976<br />mape: 12.582204","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  752<br />mape: 12.574567","difficulty: normal_pred<br />difficulty: normal_pred<br />store:   61<br />mape: 12.566999","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  611<br />mape: 12.563911","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  511<br />mape: 12.561889","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  122<br />mape: 12.558977","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  730<br />mape: 12.553920","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  609<br />mape: 12.550470","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  217<br />mape: 12.541424","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  846<br />mape: 12.539234","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  337<br />mape: 12.528752","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  967<br />mape: 12.520091","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  943<br />mape: 12.497662","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  333<br />mape: 12.496773","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  137<br />mape: 12.496387","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  249<br />mape: 12.489477","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  421<br />mape: 12.482026","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  764<br />mape: 12.464976","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  926<br />mape: 12.453460","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  572<br />mape: 12.445621","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  351<br />mape: 12.441648","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  631<br />mape: 12.440770","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  589<br />mape: 12.437321","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  118<br />mape: 12.428841","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  664<br />mape: 12.415228","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  416<br />mape: 12.413815","difficulty: normal_pred<br />difficulty: normal_pred<br />store:   51<br />mape: 12.410158","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  536<br />mape: 12.369050","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  864<br />mape: 12.353400","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  583<br />mape: 12.343422","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  339<br />mape: 12.340281","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  196<br />mape: 12.333475","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  604<br />mape: 12.327237","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1082<br />mape: 12.318260","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  971<br />mape: 12.310721","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1000<br />mape: 12.307370","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1036<br />mape: 12.296840","difficulty: normal_pred<br />difficulty: normal_pred<br />store:   35<br />mape: 12.288041","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  778<br />mape: 12.286489","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  188<br />mape: 12.281255","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  448<br />mape: 12.262859","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  791<br />mape: 12.262325","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  521<br />mape: 12.261312","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  234<br />mape: 12.233308","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  163<br />mape: 12.217331","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1098<br />mape: 12.210482","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  362<br />mape: 12.207835","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  724<br />mape: 12.202700","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  295<br />mape: 12.196667","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1057<br />mape: 12.194529","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  830<br />mape: 12.190106","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  314<br />mape: 12.189674","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  725<br />mape: 12.183140","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  526<br />mape: 12.167763","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  740<br />mape: 12.164808","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  318<br />mape: 12.157744","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  155<br />mape: 12.151022","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  785<br />mape: 12.115141","difficulty: normal_pred<br />difficulty: normal_pred<br />store:   65<br />mape: 12.084943","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  459<br />mape: 12.079126","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  712<br />mape: 12.071383","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  500<br />mape: 12.065356","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  848<br />mape: 12.049110","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1108<br />mape: 12.046062","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  867<br />mape: 12.043957","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1016<br />mape: 12.038372","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  503<br />mape: 12.024805","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  665<br />mape: 11.998920","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1028<br />mape: 11.989836","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  336<br />mape: 11.988086","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  284<br />mape: 11.976077","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  895<br />mape: 11.971051","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1001<br />mape: 11.929111","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  707<br />mape: 11.906261","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  277<br />mape: 11.903285","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1083<br />mape: 11.897829","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  591<br />mape: 11.885614","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  404<br />mape: 11.884043","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  598<br />mape: 11.880034","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  671<br />mape: 11.874902","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  627<br />mape: 11.871383","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  215<br />mape: 11.852880","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1022<br />mape: 11.852311","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  544<br />mape: 11.850900","difficulty: normal_pred<br />difficulty: normal_pred<br />store:   36<br />mape: 11.834496","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  112<br />mape: 11.827378","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  309<br />mape: 11.818049","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  338<br />mape: 11.813492","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  368<br />mape: 11.807611","difficulty: normal_pred<br />difficulty: normal_pred<br />store:   32<br />mape: 11.805678","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  625<br />mape: 11.805624","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  859<br />mape: 11.798256","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1106<br />mape: 11.791288","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  144<br />mape: 11.790976","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  678<br />mape: 11.785049","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  182<br />mape: 11.749924","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  442<br />mape: 11.748723","difficulty: normal_pred<br />difficulty: normal_pred<br />store:   11<br />mape: 11.745976","difficulty: normal_pred<br />difficulty: normal_pred<br />store:   49<br />mape: 11.734735","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  305<br />mape: 11.713069","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  683<br />mape: 11.707490","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  326<br />mape: 11.702802","difficulty: normal_pred<br />difficulty: normal_pred<br />store:   39<br />mape: 11.698021","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  474<br />mape: 11.684927","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  910<br />mape: 11.680617","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  128<br />mape: 11.663059","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  507<br />mape: 11.661334","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  312<br />mape: 11.658501","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  670<br />mape: 11.657995","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  810<br />mape: 11.654675","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  582<br />mape: 11.650087","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1085<br />mape: 11.640351","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  341<br />mape: 11.629297","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  282<br />mape: 11.598136","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1061<br />mape: 11.594824","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  853<br />mape: 11.592490","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  857<br />mape: 11.583438","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  890<br />mape: 11.563882","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  940<br />mape: 11.557620","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  973<br />mape: 11.556747","difficulty: normal_pred<br />difficulty: normal_pred<br />store:   90<br />mape: 11.542218","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1041<br />mape: 11.540602","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  190<br />mape: 11.531991","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  453<br />mape: 11.525751","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  698<br />mape: 11.522919","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  120<br />mape: 11.517382","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  964<br />mape: 11.477867","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  792<br />mape: 11.476711","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  790<br />mape: 11.470521","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  568<br />mape: 11.464571","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  679<br />mape: 11.450423","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  892<br />mape: 11.447004","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1051<br />mape: 11.434757","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  444<br />mape: 11.431313","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  357<br />mape: 11.427731","difficulty: normal_pred<br />difficulty: normal_pred<br />store:   22<br />mape: 11.426962","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  184<br />mape: 11.409610","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  865<br />mape: 11.408462","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  125<br />mape: 11.396239","difficulty: normal_pred<br />difficulty: normal_pred<br />store:   62<br />mape: 11.392498","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  907<br />mape: 11.386933","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  587<br />mape: 11.370297","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  661<br />mape: 11.367685","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  930<br />mape: 11.343058","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  161<br />mape: 11.340999","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  413<br />mape: 11.332594","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  283<br />mape: 11.325529","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  424<br />mape: 11.320576","difficulty: normal_pred<br />difficulty: normal_pred<br />store:   38<br />mape: 11.316867","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  329<br />mape: 11.308902","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1026<br />mape: 11.304597","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  705<br />mape: 11.291344","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  469<br />mape: 11.282721","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  223<br />mape: 11.278143","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  946<br />mape: 11.270305","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  784<br />mape: 11.262981","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  331<br />mape: 11.253135","difficulty: normal_pred<br />difficulty: normal_pred<br />store:   87<br />mape: 11.247538","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  107<br />mape: 11.236922","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  941<br />mape: 11.231043","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  829<br />mape: 11.215054","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  434<br />mape: 11.184102","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  451<br />mape: 11.174801","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  242<br />mape: 11.162362","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  369<br />mape: 11.126098","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1005<br />mape: 11.119140","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  313<br />mape: 11.111221","difficulty: normal_pred<br />difficulty: normal_pred<br />store:   66<br />mape: 11.098714","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  522<br />mape: 11.094202","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  847<br />mape: 11.081256","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  928<br />mape: 11.075220","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  293<br />mape: 11.068188","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  148<br />mape: 11.067307","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  647<br />mape: 11.062442","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  489<br />mape: 11.057324","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  753<br />mape: 11.045056","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  965<br />mape: 11.039277","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  556<br />mape: 11.019493","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  766<br />mape: 11.015443","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  835<br />mape: 10.999794","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1099<br />mape: 10.998601","difficulty: normal_pred<br />difficulty: normal_pred<br />store:    5<br />mape: 10.991392","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  200<br />mape: 10.989330","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  510<br />mape: 10.979463","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  579<br />mape: 10.975036","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  822<br />mape: 10.954817","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  978<br />mape: 10.950410","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  929<br />mape: 10.938824","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  774<br />mape: 10.924155","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  300<br />mape: 10.921900","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  813<br />mape: 10.917914","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  777<br />mape: 10.914685","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  817<br />mape: 10.893359","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  464<br />mape: 10.892176","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  551<br />mape: 10.889910","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  614<br />mape: 10.878016","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  870<br />mape: 10.869188","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  541<br />mape: 10.868170","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  622<br />mape: 10.863348","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  158<br />mape: 10.841409","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  959<br />mape: 10.833300","difficulty: normal_pred<br />difficulty: normal_pred<br />store:   18<br />mape: 10.824362","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  457<br />mape: 10.824057","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  408<br />mape: 10.813492","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1110<br />mape: 10.809044","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  913<br />mape: 10.808928","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  399<br />mape: 10.807329","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1031<br />mape: 10.787682","difficulty: normal_pred<br />difficulty: normal_pred<br />store:   50<br />mape: 10.780204","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  644<br />mape: 10.771948","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  533<br />mape: 10.764760","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1058<br />mape: 10.759005","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  106<br />mape: 10.747550","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  878<br />mape: 10.737156","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  426<br />mape: 10.724072","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  365<br />mape: 10.723915","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  406<br />mape: 10.714279","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  574<br />mape: 10.705660","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  691<br />mape: 10.702956","difficulty: normal_pred<br />difficulty: normal_pred<br />store:   14<br />mape: 10.670136","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  938<br />mape: 10.652035","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  886<br />mape: 10.643680","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1080<br />mape: 10.633278","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  699<br />mape: 10.628910","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  949<br />mape: 10.621730","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1113<br />mape: 10.602665","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  689<br />mape: 10.577339","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  221<br />mape: 10.546319","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1079<br />mape: 10.544755","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  922<br />mape: 10.541822","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  891<br />mape: 10.525237","difficulty: normal_pred<br />difficulty: normal_pred<br />store:   71<br />mape: 10.503275","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  178<br />mape: 10.494343","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  179<br />mape: 10.481881","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  714<br />mape: 10.478015","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  400<br />mape: 10.470667","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  418<br />mape: 10.411747","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  640<br />mape: 10.401667","difficulty: normal_pred<br />difficulty: normal_pred<br />store:   82<br />mape: 10.392648","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  396<br />mape: 10.387622","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  555<br />mape: 10.382911","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  723<br />mape: 10.375825","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  645<br />mape: 10.363467","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  823<br />mape: 10.359667","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  250<br />mape: 10.358568","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  801<br />mape: 10.353576","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  739<br />mape: 10.345138","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  896<br />mape: 10.341760","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1075<br />mape: 10.338620","difficulty: normal_pred<br />difficulty: normal_pred<br />store:   98<br />mape: 10.327364","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  696<br />mape: 10.322098","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  540<br />mape: 10.310802","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  729<br />mape: 10.306995","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  104<br />mape: 10.306649","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  472<br />mape: 10.297640","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  411<br />mape: 10.282982","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  479<br />mape: 10.279495","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  721<br />mape: 10.266386","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  571<br />mape: 10.245834","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  278<br />mape: 10.229475","difficulty: normal_pred<br />difficulty: normal_pred<br />store:   16<br />mape: 10.225251","difficulty: normal_pred<br />difficulty: normal_pred<br />store:   33<br />mape: 10.222289","difficulty: normal_pred<br />difficulty: normal_pred<br />store:   63<br />mape: 10.214707","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  494<br />mape: 10.213056","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1020<br />mape: 10.205978","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  595<br />mape: 10.198590","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  768<br />mape: 10.172595","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1072<br />mape: 10.168686","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1004<br />mape: 10.163205","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  350<br />mape: 10.161294","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  655<br />mape: 10.122381","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  761<br />mape: 10.118971","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  985<br />mape: 10.111878","difficulty: normal_pred<br />difficulty: normal_pred<br />store:   80<br />mape: 10.100548","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  119<br />mape: 10.092885","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  382<br />mape: 10.084805","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  115<br />mape: 10.068607","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  545<br />mape: 10.035485","difficulty: normal_pred<br />difficulty: normal_pred<br />store:   99<br />mape: 10.021353","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1043<br />mape: 10.016090","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  951<br />mape: 10.006752","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  361<br />mape: 10.004704","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  481<br />mape:  9.998227","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  605<br />mape:  9.994153","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  191<br />mape:  9.985587","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  498<br />mape:  9.978521","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  626<br />mape:  9.975724","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  720<br />mape:  9.971323","difficulty: normal_pred<br />difficulty: normal_pred<br />store:   85<br />mape:  9.965860","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  101<br />mape:  9.955757","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  433<br />mape:  9.954984","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1091<br />mape:  9.939345","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  927<br />mape:  9.938627","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  172<br />mape:  9.928309","difficulty: normal_pred<br />difficulty: normal_pred<br />store:   21<br />mape:  9.907375","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  199<br />mape:  9.879432","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  409<br />mape:  9.861668","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1033<br />mape:  9.861534","difficulty: normal_pred<br />difficulty: normal_pred<br />store:   24<br />mape:  9.853864","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  360<br />mape:  9.852702","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  880<br />mape:  9.852357","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  143<br />mape:  9.850160","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  105<br />mape:  9.847299","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  203<br />mape:  9.836784","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  960<br />mape:  9.825937","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1054<br />mape:  9.819099","difficulty: normal_pred<br />difficulty: normal_pred<br />store:   29<br />mape:  9.815829","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  243<br />mape:  9.814302","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1010<br />mape:  9.761332","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  831<br />mape:  9.759584","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  900<br />mape:  9.757557","difficulty: normal_pred<br />difficulty: normal_pred<br />store:   56<br />mape:  9.746592","difficulty: normal_pred<br />difficulty: normal_pred<br />store:   37<br />mape:  9.743569","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  796<br />mape:  9.736431","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  348<br />mape:  9.727977","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  381<br />mape:  9.726059","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  535<br />mape:  9.710506","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  843<br />mape:  9.705464","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  968<br />mape:  9.703495","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  296<br />mape:  9.686961","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  638<br />mape:  9.679212","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  942<br />mape:  9.674794","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  818<br />mape:  9.666145","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  676<br />mape:  9.658366","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  802<br />mape:  9.657010","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  756<br />mape:  9.649082","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  344<br />mape:  9.641468","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1006<br />mape:  9.640506","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  403<br />mape:  9.636918","difficulty: normal_pred<br />difficulty: normal_pred<br />store:   81<br />mape:  9.601830","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  765<br />mape:  9.593176","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  741<br />mape:  9.592318","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  884<br />mape:  9.587342","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  989<br />mape:  9.582017","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  937<br />mape:  9.581886","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  517<br />mape:  9.567141","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  227<br />mape:  9.558492","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  327<br />mape:  9.556451","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  320<br />mape:  9.555285","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  380<br />mape:  9.501850","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  342<br />mape:  9.498368","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  353<br />mape:  9.491316","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  241<br />mape:  9.491108","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  606<br />mape:  9.490240","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1100<br />mape:  9.488174","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  146<br />mape:  9.486296","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  423<br />mape:  9.478473","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  372<br />mape:  9.473026","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  389<br />mape:  9.468763","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  297<br />mape:  9.466362","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  935<br />mape:  9.463617","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  787<br />mape:  9.460663","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1092<br />mape:  9.455279","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  537<br />mape:  9.449933","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  224<br />mape:  9.428670","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1093<br />mape:  9.400037","difficulty: normal_pred<br />difficulty: normal_pred<br />store:   12<br />mape:  9.398769","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  868<br />mape:  9.387323","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  576<br />mape:  9.386067","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  502<br />mape:  9.385792","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  387<br />mape:  9.372354","difficulty: normal_pred<br />difficulty: normal_pred<br />store:   95<br />mape:  9.371077","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  621<br />mape:  9.361087","difficulty: normal_pred<br />difficulty: normal_pred<br />store:   54<br />mape:  9.353649","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  674<br />mape:  9.352388","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  449<br />mape:  9.351098","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  108<br />mape:  9.344833","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  175<br />mape:  9.335545","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  932<br />mape:  9.334984","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  979<br />mape:  9.334753","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  303<br />mape:  9.332928","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  542<br />mape:  9.330183","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  482<br />mape:  9.322734","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  343<br />mape:  9.311673","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  374<br />mape:  9.308737","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1048<br />mape:  9.299542","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  901<br />mape:  9.298904","difficulty: normal_pred<br />difficulty: normal_pred<br />store:   67<br />mape:  9.296027","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1050<br />mape:  9.280203","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  390<br />mape:  9.280080","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  982<br />mape:  9.271367","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  708<br />mape:  9.265536","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1002<br />mape:  9.264258","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  397<br />mape:  9.258432","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  833<br />mape:  9.254634","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  414<br />mape:  9.254626","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  783<br />mape:  9.239363","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  795<br />mape:  9.230034","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  204<br />mape:  9.227989","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  239<br />mape:  9.214948","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  441<br />mape:  9.209495","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  564<br />mape:  9.206632","difficulty: normal_pred<br />difficulty: normal_pred<br />store:   89<br />mape:  9.200905","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  974<br />mape:  9.197454","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  519<br />mape:  9.182351","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  593<br />mape:  9.173352","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  230<br />mape:  9.147751","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  202<br />mape:  9.147361","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  168<br />mape:  9.117273","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  205<br />mape:  9.111920","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  356<br />mape:  9.107926","difficulty: normal_pred<br />difficulty: normal_pred<br />store:   42<br />mape:  9.098543","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  262<br />mape:  9.079907","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  512<br />mape:  9.078862","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  651<br />mape:  9.072843","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  378<br />mape:  9.069343","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  222<br />mape:  9.063106","difficulty: normal_pred<br />difficulty: normal_pred<br />store:   79<br />mape:  9.053182","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  808<br />mape:  9.044960","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  173<br />mape:  9.041543","difficulty: normal_pred<br />difficulty: normal_pred<br />store:    9<br />mape:  9.040190","difficulty: normal_pred<br />difficulty: normal_pred<br />store:   76<br />mape:  9.037802","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  430<br />mape:  9.036214","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  135<br />mape:  9.022475","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  602<br />mape:  9.019531","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  157<br />mape:  9.013535","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  195<br />mape:  9.005967","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  495<br />mape:  9.000363","difficulty: normal_pred<br />difficulty: normal_pred<br />store:    1<br />mape:  8.990353","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1024<br />mape:  8.990264","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  308<br />mape:  8.987283","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  546<br />mape:  8.986775","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  834<br />mape:  8.982348","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  746<br />mape:  8.974839","difficulty: normal_pred<br />difficulty: normal_pred<br />store:   26<br />mape:  8.961745","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1087<br />mape:  8.958279","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  398<br />mape:  8.955639","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  648<br />mape:  8.929360","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1103<br />mape:  8.921253","difficulty: normal_pred<br />difficulty: normal_pred<br />store:   69<br />mape:  8.920760","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  100<br />mape:  8.915861","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  467<br />mape:  8.911117","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  162<br />mape:  8.894060","difficulty: normal_pred<br />difficulty: normal_pred<br />store:    2<br />mape:  8.889787","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  586<br />mape:  8.888429","difficulty: normal_pred<br />difficulty: normal_pred<br />store:   77<br />mape:  8.885039","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1115<br />mape:  8.881668","difficulty: normal_pred<br />difficulty: normal_pred<br />store:    3<br />mape:  8.878642","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  415<br />mape:  8.877546","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  894<br />mape:  8.870071","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  771<br />mape:  8.865098","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  955<br />mape:  8.861421","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  252<br />mape:  8.860691","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  744<br />mape:  8.857144","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  352<br />mape:  8.854784","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  213<br />mape:  8.853290","difficulty: normal_pred<br />difficulty: normal_pred<br />store:   25<br />mape:  8.852959","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  319<br />mape:  8.838061","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  493<br />mape:  8.835666","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  682<br />mape:  8.827344","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  264<br />mape:  8.816824","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  718<br />mape:  8.797861","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  527<br />mape:  8.789396","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  936<br />mape:  8.773715","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1070<br />mape:  8.772908","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  618<br />mape:  8.772233","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  806<br />mape:  8.770399","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  838<br />mape:  8.766175","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  214<br />mape:  8.757604","difficulty: normal_pred<br />difficulty: normal_pred<br />store:    7<br />mape:  8.753322","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  862<br />mape:  8.748859","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  797<br />mape:  8.746623","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  961<br />mape:  8.735568","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  304<br />mape:  8.721506","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  588<br />mape:  8.721202","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  673<br />mape:  8.714189","difficulty: normal_pred<br />difficulty: normal_pred<br />store:   70<br />mape:  8.711437","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  893<br />mape:  8.705881","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  151<br />mape:  8.699471","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  159<br />mape:  8.698475","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  349<br />mape:  8.696277","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1067<br />mape:  8.696264","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  116<br />mape:  8.691350","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  668<br />mape:  8.668167","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  226<br />mape:  8.667695","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  504<br />mape:  8.662819","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  944<br />mape:  8.656330","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  917<br />mape:  8.656119","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  616<br />mape:  8.655766","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  599<br />mape:  8.642685","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  506<br />mape:  8.641659","difficulty: normal_pred<br />difficulty: normal_pred<br />store:   19<br />mape:  8.621106","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  275<br />mape:  8.616776","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  603<br />mape:  8.616547","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  687<br />mape:  8.593454","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  111<br />mape:  8.583994","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  147<br />mape:  8.583256","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  826<br />mape:  8.580187","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1105<br />mape:  8.565561","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  298<br />mape:  8.559505","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1040<br />mape:  8.541806","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  355<br />mape:  8.508893","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  233<br />mape:  8.505866","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  856<br />mape:  8.505231","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  394<br />mape:  8.499629","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  757<br />mape:  8.496509","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  465<br />mape:  8.492995","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  290<br />mape:  8.489139","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  763<br />mape:  8.484319","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1060<br />mape:  8.471271","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  650<br />mape:  8.466554","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  906<br />mape:  8.465046","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  187<br />mape:  8.451027","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  150<br />mape:  8.423634","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  281<br />mape:  8.417778","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1046<br />mape:  8.416873","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  962<br />mape:  8.392958","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  321<br />mape:  8.371584","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  580<br />mape:  8.371260","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  491<br />mape:  8.369209","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  990<br />mape:  8.356977","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  370<br />mape:  8.356330","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  815<br />mape:  8.352088","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  975<br />mape:  8.313090","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  860<br />mape:  8.304836","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  832<br />mape:  8.294971","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  354<br />mape:  8.285426","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  216<br />mape:  8.280302","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  934<br />mape:  8.251665","difficulty: normal_pred<br />difficulty: normal_pred<br />store:    4<br />mape:  8.230706","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  513<br />mape:  8.230416","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1071<br />mape:  8.228021","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  376<br />mape:  8.225957","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  866<br />mape:  8.223811","difficulty: normal_pred<br />difficulty: normal_pred<br />store:   31<br />mape:  8.215879","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  755<br />mape:  8.214760","difficulty: normal_pred<br />difficulty: normal_pred<br />store:   47<br />mape:  8.189747","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  652<br />mape:  8.183396","difficulty: normal_pred<br />difficulty: normal_pred<br />store:   92<br />mape:  8.176556","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  251<br />mape:  8.159849","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  340<br />mape:  8.150280","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  872<br />mape:  8.140408","difficulty: normal_pred<br />difficulty: normal_pred<br />store:   64<br />mape:  8.140319","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1102<br />mape:  8.130199","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  882<br />mape:  8.122802","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  981<br />mape:  8.113112","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  948<br />mape:  8.078137","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  814<br />mape:  8.070128","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  471<br />mape:  8.062599","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1015<br />mape:  8.058113","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  515<br />mape:  8.058013","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  849<br />mape:  8.027963","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  508<br />mape:  8.026490","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  477<br />mape:  8.018904","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  788<br />mape:  8.016152","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  109<br />mape:  7.995951","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  697<br />mape:  7.994228","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  171<br />mape:  7.983847","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  738<br />mape:  7.980377","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  499<br />mape:  7.962177","difficulty: normal_pred<br />difficulty: normal_pred<br />store:   15<br />mape:  7.947859","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  346<br />mape:  7.944871","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  316<br />mape:  7.905834","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  496<br />mape:  7.903611","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1007<br />mape:  7.868853","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  140<br />mape:  7.849532","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  377<br />mape:  7.838494","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1018<br />mape:  7.837536","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  470<br />mape:  7.825195","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  643<br />mape:  7.814246","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  950<br />mape:  7.805993","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1114<br />mape:  7.802809","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  887<br />mape:  7.789241","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1053<br />mape:  7.787124","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  525<br />mape:  7.785646","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  731<br />mape:  7.774199","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  775<br />mape:  7.767488","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1059<br />mape:  7.763890","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  189<br />mape:  7.703215","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  748<br />mape:  7.701321","difficulty: normal_pred<br />difficulty: normal_pred<br />store:   94<br />mape:  7.677799","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1052<br />mape:  7.672242","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  704<br />mape:  7.657932","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  694<br />mape:  7.648028","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  180<br />mape:  7.610495","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1055<br />mape:  7.550449","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  431<br />mape:  7.505207","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  769<br />mape:  7.484851","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  154<br />mape:  7.471606","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1008<br />mape:  7.445904","difficulty: normal_pred<br />difficulty: normal_pred<br />store:   53<br />mape:  7.442757","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  490<br />mape:  7.429613","difficulty: normal_pred<br />difficulty: normal_pred<br />store:   34<br />mape:  7.411681","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  920<br />mape:  7.405878","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  145<br />mape:  7.386470","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  129<br />mape:  7.384086","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  363<br />mape:  7.376520","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  207<br />mape:  7.313188","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1064<br />mape:  7.293421","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  726<br />mape:  7.274730","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  255<br />mape:  7.238670","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  439<br />mape:  7.230523","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  529<br />mape:  7.228277","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  383<br />mape:  7.213915","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  911<br />mape:  7.211442","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  799<br />mape:  7.176696","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  855<br />mape:  7.173769","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1025<br />mape:  7.171317","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  532<br />mape:  7.127515","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  747<br />mape:  7.113104","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  272<br />mape:  7.104398","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1101<br />mape:  7.099098","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  667<br />mape:  7.038837","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1096<br />mape:  7.015805","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  197<br />mape:  6.994456","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  246<br />mape:  6.988298","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  280<br />mape:  6.960250","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  287<br />mape:  6.953830","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  733<br />mape:  6.857606","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  565<br />mape:  6.824417","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  388<br />mape:  6.817664","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  228<br />mape:  6.806133","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  358<br />mape:  6.801884","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  995<br />mape:  6.756434","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  562<br />mape:  6.728519","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  487<br />mape:  6.671210","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  311<br />mape:  6.637457","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  492<br />mape:  6.603124","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  615<br />mape:  6.512664","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  672<br />mape:  6.499258","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  528<br />mape:  6.481182","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  497<br />mape:  6.473134","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1089<br />mape:  6.377015","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  600<br />mape:  6.357424","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  229<br />mape:  6.339731","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  273<br />mape:  6.271044","difficulty: normal_pred<br />difficulty: normal_pred<br />store: 1097<br />mape:  6.186495","difficulty: normal_pred<br />difficulty: normal_pred<br />store:   84<br />mape:  6.063852","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  742<br />mape:  5.829861","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  323<br />mape:  5.708476","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  523<br />mape:  5.621504","difficulty: normal_pred<br />difficulty: normal_pred<br />store:  259<br />mape:  5.133349"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,191,196,1)","opacity":0.4,"size":9.4488188976378,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(0,191,196,1)"}},"hoveron":"points","name":"normal_pred","legendgroup":"normal_pred","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":55.7398643973986,"r":7.30593607305936,"b":45.7838660578387,"l":37.2602739726027},"font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"title":{"text":"store vs mape","font":{"color":"rgba(0,0,0,1)","family":"","size":23.9103362391034},"x":0.5,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-54.7,1170.7],"tickmode":"array","ticktext":["0","100","200","300","400","500","600","700","800","900","1000","1100"],"tickvals":[0,100,200,300,400,500,600,700,800,900,1000,1100],"categoryorder":"array","categoryarray":["0","100","200","300","400","500","600","700","800","900","1000","1100"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.65296803652968,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":{"text":"store","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[2.05513234265835,69.7759010112411],"tickmode":"array","ticktext":["10","20","30","40","50","60"],"tickvals":[10,20,30,40,50,60],"categoryorder":"array","categoryarray":["10","20","30","40","50","60"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.65296803652968,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":{"text":"mape","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895},"y":0.972933070866142},"annotations":[{"text":"difficulty","x":1.02,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"left","yanchor":"bottom","legendTitle":true}],"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","showSendToCloud":false},"source":"A","attrs":{"424b4b01b661":{"shape":{},"colour":{},"x":{},"y":{},"type":"scatter"}},"cur_data":"424b4b01b661","visdat":{"424b4b01b661":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>No gráfico acima é possivel ver em vermelho as lojas que o algoritimo teve mais dificuldade em prever.<br />
In the graph above it is possible to see in red the stores that the algorithm had more difficulty in predicting.</p>
</div>
<div id="total-performance" class="section level2">
<h2>Total Performance</h2>
<pre class="r"><code># Predictions in all stores in the next 6 weeks.
df73 %&gt;% 
  summarise(predictions= formattable::currency(sum(predictions), big.mark = &quot;,&quot;, symbol = &quot;R$&quot;),
            worst_scenario= formattable::currency(sum(worst_scenario), big.mark = &quot;,&quot;, symbol = &quot;R$&quot;),
            best_scenario = formattable::currency(sum(best_scenario), big.mark = &quot;,&quot;, symbol = &quot;R$&quot;)) %&gt;% 
  kable(caption = &quot;Predictions in all stores in the next 6 weeks&quot;) %&gt;% 
  kable_styling(full_width = F, bootstrap_options = c(&quot;striped&quot;, &quot;hover&quot;, &quot;condesend&quot;, &quot;responsive&quot;), html_font = &quot;Cambria&quot;)</code></pre>
<table class="table table-striped table-hover table-responsive" style="font-family: Cambria; width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:unnamed-chunk-81">Table 9: </span>Predictions in all stores in the next 6 weeks
</caption>
<thead>
<tr>
<th style="text-align:right;">
predictions
</th>
<th style="text-align:right;">
worst_scenario
</th>
<th style="text-align:right;">
best_scenario
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
R$283,870,334.50
</td>
<td style="text-align:right;">
R$282,919,399.55
</td>
<td style="text-align:right;">
R$284,821,269.45
</td>
</tr>
</tbody>
</table>
</div>
<div id="machine-learning-performance" class="section level2">
<h2>Machine Learning Performance</h2>
<pre class="r"><code># Creating the error and error_rate features
df7 &lt;- df7 %&gt;% 
  mutate(error = sales - predictions,
         error_rate = predictions / sales)</code></pre>
<pre class="r"><code>ggarrange(
  
  df7 %&gt;%
  summarise_by_time(date, .by = &quot;day&quot;,error_rate = mean(error_rate)) %&gt;% 
  ggplot(aes(date, error_rate))+
  geom_line(lwd=1, col=&quot;steelblue&quot;)+
  geom_hline(yintercept=1, linetype=&quot;dashed&quot;, color = &quot;red&quot;, lwd=0.8)+
  scale_y_continuous(breaks = seq(0, 2, 0.05))+
  labs(title = &quot;Error_rate vs Date&quot;)+  
  theme(axis.title.x=element_blank(),
        axis.text.x=element_blank(),
        axis.ticks.x=element_blank(),plot.title = element_text(hjust = 0.5, size = 18)),

  df7 %&gt;% 
  group_by(date) %&gt;% 
  summarise_by_time(date,.by = &quot;day&quot;, sales = sum(sales), predictions = sum(predictions), .groups= &quot;drop&quot;) %&gt;% 
  ggplot( ) + aes(x= date) + geom_line(lwd=1,aes(y= sales, col= &quot;sales&quot;, group = &quot;sales&quot;))+
  geom_line(lwd=1,aes(y= predictions, col= &quot;predictions&quot;, group = &quot;predictions&quot;))+
  scale_y_continuous(labels = scales::label_number_si())+
  scale_x_date(breaks = &quot;1 weeks&quot;, minor_breaks = &quot;1 day&quot;, date_labels = &quot;%Y-%m-%d&quot;)+
  labs(title= &quot;Date vs Sales/Predictions&quot;)+
  theme(plot.title = element_text(hjust = 0.5, size = 18)),

  df7 %&gt;% 
  ggplot(aes(predictions, error))+
  geom_point(alpha=0.4, shape=21, fill=&quot;darkgreen&quot;, size=2, color=&quot;white&quot;)+
  scale_x_continuous(breaks = seq(0,30000,2000))+  
  labs(title= &quot;Residual Plot&quot;)+
  theme(plot.title = element_text(hjust = 0.5, size = 18)),
  
  df7 %&gt;% 
  ggplot(aes(error))+
  geom_histogram(aes(y =..density..),col=&quot;black&quot;, fill=&quot;chocolate&quot;)+
  stat_function(fun = dnorm, args = list(mean = mean(df7$error), sd = sd(df7$error)), col=&quot;red&quot;, lwd=1)+
  labs(title = &quot;Distribution Error&quot;)+
  theme(plot.title = element_text(hjust = 0.5, size = 18))+
  scale_y_continuous(labels = function(x) format(x, scientific = FALSE)) ,nrow  =4)</code></pre>
<p><img src="{{< blogdown/postref >}}index.pt_files/figure-html/unnamed-chunk-83-1.png" width="1248" />
- Erro vs Data: Valores acima da linha vermelha , são dias em que modelo fez uma superestimação, e valore abaixo da linha vermelha são dias em que modelo fez uma substimação.</p>
<ul>
<li>Error_rate vs Date: Values above the red line are days when the model overestimated, and values below the red line are days when the model underestimated.</li>
</ul>
<pre class="r"><code>MPE &lt;- mean((df7$sales - df7$predictions)/df7$sales )

MPE</code></pre>
<pre><code>[1] -0.04422607</code></pre>
<p>Olhando a métrica <strong>MPE</strong> podemos ver que modelo está superestimando, pois valor é negativo, com isso podemos dizer que o modelo está prevendo melhor valores acima do real.</p>
<p>Looking at the <strong>MPE</strong> metric we can see which model is overestimating, because the value is negative, with that we can say that the model is better predicting values above the real.</p>
<ul>
<li><p>Data vs Vendas / Predições: Podemos ver que as predições estão bem proximas dos valores reais , e tambem podemos ver os locais onde as erro nas predições são maiores.</p></li>
<li><p>Date vs Sales/Predictions: We can see that the predictions are very close to the actual values, and we can also see the places where the errors in the predictions are greatest.</p></li>
<li><p>Distribuição do Erro: Através desse gráfico é possivel ver que erro está bem próximo de uma distribuição normal.<br />
</p></li>
<li><p>Distribution Error: Through this graph it is possible to see which error is very close to a normal distribution.</p></li>
<li><p>Predições vs Erro: Neste gráfico de residuos podemos ver que sempre que fizermos predições entre 7000 e 10000, o modelo irá errar mais.<br />
</p></li>
<li><p>Predictions vs Error: In this residual plot we can see that whenever we make predictions between 7000 and 10000, the model will make more mistakes.</p></li>
</ul>
</div>
</div>
